import{b as n,f as Y,o as $,J as g,L as a,m as h,A as f,u as p,Q as y,F as z,R as j,M as o,N as J,a1 as ee,y as c,z as ae,Z as _,a2 as O,a3 as M,a4 as q,a0 as te,a5 as se}from"./swiper-vue.cbc5cb6b.js";import{u as ie}from"./composables.4c8a3063.js";import{_ as ne,u as le,a as oe}from"./entry.94a7074b.js";import{a as L,g as re}from"./axios.e739bd3a.js";import{u as de}from"./vue.f36acd1f.482fc04a.js";import{t as D}from"./style.2f8f0d54.js";import{_ as ce}from"./main-loader.b5e29ea6.js";const ue={async setup(){ie();const{locale:i}=le();let l=n(i),w=re(),e=oe(),A=n([]),S=n([]),d=n(null),k=n(null),s=n(!1),u=n(!1),C=n([d.value]),T=n(!1),b=n("sedan"),x=n(1);const G=t=>{C.value[0]=t,s.value=!0};let B=n(!0);const R=async()=>{B.value=!0;let t=await L.get(`${w}/brands`,{headers:{"Content-Language":`${l.value}`}});t.status==200&&(B.value=!1),A.value=t.data.data,d.value=t.data.data[0].id,F()};let N=n([]);const E=async()=>{let t=await L.get(`${w}/make-appointment-form-data`,{headers:{"Content-Language":`${l.value}`}});t.data.brands.filter(r=>r.id!=3),N.value=t.data.brands,console.log(t.data.brands)},H=Y(()=>N.value.filter(t=>t.id==d.value));R();const F=async()=>{u.value=!1,s.value=!0,T.value=!0,S.value=[];let t=await L.get(`${w}/cars`,{params:{brands:[d.value],type:b.value},headers:{"Content-Language":`${l.value}`}});if(t.status==200){s.value=!1,T.value=!1;{let r=JSON.parse(sessionStorage.getItem("thefav"))?JSON.parse(sessionStorage.getItem("thefav")):[];console.log(r);for(let v=0;v<t.data.data.length;v++)t.data.data[v].is_in_favorite=r.find(m=>m.id==t.data.data[v].id)!=null}S.value=t.data.data,t.data.data.length<1?u.value=!0:u.value=!1}},Q=()=>{let t={id:d.value,type:b.value?b.value:null};const r=l.value+"/brandcar";e.push({path:`/${r}`,query:t})},U=(t,r,v)=>{const m={id:t,model_id:r,name:v},P=l.value+"/car";e.push({path:`/${P}`,query:m})};let I=n("added to wishlist"),Z=n("success"),V=n("removed from wishlist");l.value=="ar"&&(I.value="تم الاضافة الي قائمة المفضلات",Z.value="نجاح",V.value="تم الحذف من قائمة المفضلات");let K=n([]);n([]);const W=t=>{{let r=JSON.parse(sessionStorage.getItem("thefav"))?JSON.parse(sessionStorage.getItem("thefav")):[],v=r.filter(m=>m.id==t.id);if(t.is_in_favorite=!t.is_in_favorite,v.length<=1)if(r.push(t),t.is_in_favorite==!0)sessionStorage.setItem("thefav",JSON.stringify(r)),D({title:I.value},{timeout:3e3,toastBackgroundColor:"#1B395F",showIcon:!0,type:"success",transition:"bounce"});else{let m=r.filter(P=>P.id!=t.id);D({title:V.value},{timeout:3e3,toastBackgroundColor:"#1B395F",showIcon:!0,type:"danger",transition:"bounce"}),K.value=[],sessionStorage.setItem("thefav",JSON.stringify(m)),m.length<1&&sessionStorage.removeItem("thefav")}}};de({title:l.value=="ar"?"السيارات / الكثيري للسيارات":"alkathiri motors / cars"});const X=()=>l.value==="ar"?"rtl":"ltr";return $(()=>{E()}),{goToBrandPageById:Q,pending:B,brandArray:A,latestArray:S,checkMain:C,getSwiperDirection:X,changeActive:d,carLatestFunc:F,changeActiveFunc:G,spinner:s,goToCarPage:U,addToFav:W,checkSpan:u,brands_models_cars:H,changeModelActive:k,isLoading:T,carType:b,carTypeActive:x}}},ve={class:"brands-container pt-4",style:{}},me=["onClick"],ge=["src"],fe={key:0,class:"mainLoader"},pe=a("video",{autoplay:"",loop:"",muted:"",playsinline:"",src:ce,alt:""},null,-1),he=[pe],ye={class:"container cars-related-with-brands",style:{"min-height":"100vh"}},_e={class:"row justify-content-center justify-content-xl-start justify-content-lg-start"},we={key:0,class:"d-flex align-items-center justify-content-center",style:{"min-height":"100vh"}},Se=a("div",{class:"spinner-border text-center",style:{width:"5rem",height:"5rem"},role:"status"},null,-1),ke=[Se],be={class:"col-12 col-xl-3 col-lg-3 col-md-4 col-sm-6 my-4"},Ae={class:"mainlatestbox",style:{cursor:"pointer","min-height":"315px",position:"relative"}},Ce=["onClick"],Te={class:"text1 d-flex flex-column gap-2 w-100",style:{position:"absolute",bottom:"-10.5px","white-space":"normal"}},Be={class:"px-1",style:{"white-space":"normal","font-size":"16px"}},Pe={class:"d-flex align-items-center w-100 justify-content-between"},Le={class:"price"},Ne={style:{"font-size":"11px"}},Fe={style:{"font-size":"14px"}},Ie={class:"after"},Ve={style:{"font-size":"14px"}},ze={class:"detail"},je=a("i",{class:"fa-solid fa-chevron-right"},null,-1),Je=["onClick"],Oe=["onClick"],Me={key:2,class:"d-flex align-items-center justify-content-center",style:{height:"100vh"}},qe={class:"fw-bold fs-2",style:{color:"#1B395F"}},De={key:0,class:"d-flex align-items-center justify-content-center mt-5",style:{"min-height":"50vh"}},xe=a("i",{class:"fa-solid fa-chevron-right"},null,-1);function Ge(i,l,w,e,A,S){const d=se,k=ee;return c(),g("div",null,[a("div",ve,[h(k,{slidesPerView:3,dir:e.getSwiperDirection(),spaceBetween:10,loop:!0,breakpoints:{500:{slidesPerView:3,spaceBetween:10},768:{slidesPerView:5,spaceBetween:20},1024:{slidesPerView:8,spaceBetween:20}},modules:["SwiperAutoplay"in i?i.SwiperAutoplay:p(O),"SwiperPagination"in i?i.SwiperPagination:p(M),"SwiperNavigation"in i?i.SwiperNavigation:p(q)],class:"mySwiper container"},{default:f(()=>[(c(!0),g(z,null,j(e.brandArray,(s,u)=>(c(),ae(d,{class:""},{default:f(()=>[a("div",{class:_(["box",{active:e.changeActive==s.id,disabled:e.isLoading}]),onClick:C=>(e.changeActive=s.id,e.carTypeActive=1,e.carType="sedan",e.spinner=!0,e.changeModelActive=null,e.carLatestFunc())},[a("img",{src:s.image,alt:"",class:"w-50"},null,8,ge),a("span",null,o(s.name),1)],10,me)]),_:2},1024))),256))]),_:1},8,["dir","modules"]),h(k,{slidesPerView:3,dir:e.getSwiperDirection(),spaceBetween:10,loop:!0,breakpoints:{500:{slidesPerView:3,spaceBetween:10},768:{slidesPerView:5,spaceBetween:20},1024:{slidesPerView:8,spaceBetween:20}},modules:["SwiperAutoplay"in i?i.SwiperAutoplay:p(O),"SwiperPagination"in i?i.SwiperPagination:p(M),"SwiperNavigation"in i?i.SwiperNavigation:p(q)],class:"mySwiper container"},{default:f(()=>[h(d,{class:""},{default:f(()=>[a("div",{class:_(["box",{active:e.carTypeActive==1}]),onClick:l[0]||(l[0]=s=>(e.carType="sedan",e.carTypeActive=1,e.carLatestFunc()))},[a("span",null,o(i.$t("sedan")),1)],2)]),_:1}),h(d,{class:""},{default:f(()=>[a("div",{class:_(["box",{active:e.carTypeActive==2}]),onClick:l[1]||(l[1]=s=>(e.carType="commercial",e.carTypeActive=2,e.carLatestFunc()))},[a("span",null,o(i.$t("commercial")),1)],2)]),_:1}),h(d,{class:""},{default:f(()=>[a("div",{class:_(["box",{active:e.carTypeActive==3}]),onClick:l[2]||(l[2]=s=>(e.carType="multi",e.carTypeActive=3,e.carLatestFunc()))},[a("span",null,o(i.$t("multi")),1)],2)]),_:1})]),_:1},8,["dir","modules"])]),e.pending?(c(),g("div",fe,he)):y("",!0),a("div",ye,[a("div",_e,[e.spinner?(c(),g("div",we,ke)):y("",!0),e.latestArray?(c(!0),g(z,{key:1},j(e.latestArray,s=>(c(),g("div",be,[a("div",Ae,[a("div",{class:"image",onClick:u=>e.goToCarPage(s.id,s.model_id,s.name)},[a("div",{class:"car-img lazyload",style:te({backgroundImage:"url("+(s.main_image?s.main_image:"https://placehold.co/600")+")"})},null,4)],8,Ce),a("div",Te,[a("h3",Be,o(s.name),1),a("div",Pe,[a("div",Le,[a("span",Ne,o(i.$t("price")),1),a("h4",Fe,o(s.selling_price)+" "+o(i.$t("Sar")),1)]),a("div",Ie,[a("span",null,o(i.$t("after vat")),1),a("h4",Ve,o(s.selling_price_after_vat)+" "+o(i.$t("Sar")),1)])])]),a("span",ze,[J(o(i.$t("details"))+" ",1),je]),a("div",{class:"overlay",onClick:u=>e.goToCarPage(s.id,s.model_id,s.name)},null,8,Je),a("i",{onClick:u=>e.addToFav(s),class:_(["fa-regular fa-heart fav",{"fa-solid":s.is_in_favorite}])},null,10,Oe)])]))),256)):y("",!0),e.checkSpan?(c(),g("div",Me,[a("span",qe,o(i.$t("There are no cars")),1)])):y("",!0)]),e.latestArray.length>=1?(c(),g("div",De,[a("button",{onClick:l[3]||(l[3]=s=>e.goToBrandPageById()),class:"d-flex align-items-center gap-2 px-5"},[J(o(i.$t("explore more"))+" ",1),xe])])):y("",!0)])])}const We=ne(ue,[["render",Ge]]);export{We as default};
