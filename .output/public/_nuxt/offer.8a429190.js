import{_ as N}from"./client-only.6e1ef275.js";import{u as O,b as L,a as B}from"./entry.94a7074b.js";import{u as F}from"./vue.f36acd1f.482fc04a.js";import{a as J,g as T}from"./axios.e739bd3a.js";import{_ as b}from"./main-loader.b5e29ea6.js";import{t as y}from"./style.2f8f0d54.js";import{b as c,J as d,u as l,L as s,M as i,m as V,A as M,F as R,R as j,Q as g,y as u,N as q,Z as H}from"./swiper-vue.cbc5cb6b.js";const x={style:{"min-height":"100vh"}},G={key:0,class:"theOffer",style:{"margin-top":"150px","min-height":"100vh"}},P={class:"container"},z={class:"containe px-3"},A=["src","alt"],D={class:"mt-4 mb-2 fw-bolder thehead"},E=["innerHTML"],Q={key:0,class:"includedOffers"},U={class:"fw-bolder pt-3 thehead"},Z={class:"row justify-content-center justify-content-xl-start justify-content-lg-start gap-1"},K={style:{cursor:"pointer"},class:"mainlatestbox col-xl-2 col-lg-2 col-md-4"},W=["onClick"],X=["src","alt"],Y={class:"text1"},ee={class:"price"},te={class:"after"},se={class:"detail"},ae=s("i",{class:"fa-solid fa-chevron-right"},null,-1),ie=["onClick"],oe=["onClick"],le={key:1,class:"mainLoader"},ne=s("video",{autoplay:"",loop:"",muted:"",playsinline:"",src:b,alt:""},null,-1),re=[ne],pe={__name:"offer",setup(ce){const{locale:C}=O();let _=c(C);const S=L(),$=B();let k=S.query.id,w=T(),h=c(!1),n=c([]),m=c([]),f=c("added to wishlist"),v=c("removed from wishlist");_.value=="ar"?(f.value="تم الاضافة الي قائمة المفضلات",v.value="تم الحذف من قائمة المفضلات"):_.value=="en"&&(f.value="added to wishlist",v.value="removed from wishlist");const I=e=>{{let o=JSON.parse(sessionStorage.getItem("thefav"))?JSON.parse(sessionStorage.getItem("thefav")):[],a=o.filter(t=>t.id==e.id);if(console.log(a),e.is_in_favorite=!e.is_in_favorite,a.length<=1)if(o.push(e),e.is_in_favorite==!0)y({title:f.value},{timeout:3e3,toastBackgroundColor:"#1B395F",showIcon:!0,type:"success",transition:"bounce"}),sessionStorage.setItem("thefav",JSON.stringify(o));else{let t=o.filter(r=>r.id!=e.id);y({title:v.value},{timeout:3e3,toastBackgroundColor:"#1B395F",showIcon:!0,type:"danger",transition:"bounce"}),sessionStorage.setItem("thefav",JSON.stringify(t)),t.length<1&&sessionStorage.removeItem("thefav")}}};(async()=>{h.value=!0;let e=await J.get(`${w}/offers/${k}`,{headers:{"Content-Language":`${_.value}`}});e.status==200&&(h.value=!1),n.value=e.data.offer;{let o=JSON.parse(sessionStorage.getItem("thefav"))?JSON.parse(sessionStorage.getItem("thefav")):[];for(let a=0;a<e.data.offer_cars.length;a++)e.data.offer_cars[a].is_in_favorite=o.find(t=>t.id==e.data.offer_cars[a].id)!=null}m.value=e.data.offer_cars,F({title:_.value=="ar"?`${n.value.title}/الكثيري للسيارات`:`alkathiri motors / ${n.value.title}`})})();const p=(e,o,a)=>{const t={id:e,model_id:o,name:a},r=_.value+"/car";$.push({path:`/${r}`,query:t})};return(e,o)=>{const a=N;return u(),d("div",x,[l(h)?g("",!0):(u(),d("div",G,[s("div",P,[s("div",z,[s("img",{src:l(n).image,class:"img-fluid w-100",alt:l(n).title},null,8,A),s("h3",D,i(l(n).title),1),V(a,{class:"mb-3"},{default:M(()=>[s("p",{innerHTML:l(n).description},null,8,E)]),_:1})]),l(m).length>0?(u(),d("div",Q,[s("h3",U,i(e.$t("Vehicles Included In The Offer")),1),s("div",Z,[(u(!0),d(R,null,j(l(m),t=>(u(),d("div",K,[s("div",{class:"image",onClick:r=>p(t.id,t.model_id,t.name)},[s("img",{src:t.main_image,alt:t.name},null,8,X)],8,W),s("h3",null,i(t.name),1),s("div",Y,[s("div",ee,[s("span",null,i(e.$t("price")),1),s("h4",null,i(t.selling_price)+" "+i(e.$t("Sar")),1)]),s("div",te,[s("span",null,i(e.$t("after vat")),1),s("h4",null,i(t.selling_price_after_vat)+" "+i(e.$t("Sar")),1)])]),s("span",se,[q(i(e.$t("details"))+" ",1),ae]),s("div",{onClick:r=>p(t.id,t.model_id,t.name),class:"overlay"},null,8,ie),s("i",{onClick:r=>I(t),class:H(["fa-regular fa-heart fav",{"fa-solid":t.is_in_favorite}])},null,10,oe)]))),256))])])):g("",!0)])])),l(h)?(u(),d("div",le,re)):g("",!0)])}}};export{pe as default};
