import{_ as L}from"./nuxt-link.0b971aa6.js";import{u as O,c as J,b as S,a as q}from"./entry.c41b5b0c.js";import{a,L as o,M as e,N as n,u as t,P as F,F as N,R as U,O as u,z as r,U as I,a2 as P,V as w,a3 as k,j as C,x as A,B as H}from"./swiper-vue.eb1e8a16.js";import{g as G}from"./url.5267f343.js";import{a as K}from"./axios.4a70c6fc.js";const Q={class:"container career"},W=["data-find"],X={class:"row gap-2 justify-content-center"},Y={class:"col-12 col-xl-4 col-lg-4 col-md-4 d-flex flex-column gap-3"},Z=e("div",{class:"inpsearch d-flex align-items-center justify-content-between"},[e("input",{type:"search",placeholder:"Job title or key..."}),e("i",{class:"fa-solid fa-magnifying-glass"})],-1),j={class:"numjobs"},ee={class:"jobs d-flex flex-column gap-3"},le=["onClick"],se={class:"det"},te=e("i",{class:"fa-solid fa-chevron-right"},null,-1),ne={class:"col-12 col-xl-7 col-lg-7 col-md-7 my-5"},ae=e("i",{class:"fa-solid fa-chevron-left"},null,-1),oe={class:"inp"},re={for:""},ie=["placeholder"],de={key:0,class:"errorMessage text-danger fw-bold fs-5 my-2"},ue={class:"inp"},ce={for:""},pe={key:0,class:"errorMessage text-danger fw-bold fs-5 my-2"},me={class:"inp"},fe={for:""},he={key:0,class:"errorMessage text-danger fw-bold fs-5 my-2"},_e={class:"inp"},ve={for:""},ge={key:0,class:"errorMessage text-danger fw-bold fs-5 my-2"},ye={class:"inp"},be={for:""},xe=["placeholder"],$e=["disabled"],we={key:0,class:"spinner-border text-light",role:"status"},ke={key:0,class:"mainLoader"},Ce=e("span",{class:"loader"},null,-1),Me=[Ce],Te={__name:"career",setup(Ve){const{locale:D}=O(),R=J(),M=S();let V=G(),b=a(D),x=a(!1);const $=M.query.id?M.query.id:null;let c=a([]);(async()=>{x.value=!0;const s=await K.get(`${V}/careers`,{headers:{"Content-Language":`${b.value}`}});s.status==200&&(x.value=!1),c.value=s.data.data,console.log(c.value)})();const E=a(null),p=a(null),m=a(null),f=a("");let h=a(null),_=a(null),v=a(null),g=a(null),y=a(!1);const T=s=>{var l=s.target.files||s.dataTransfer.files;l.length&&(E.value=l[0])},z=async()=>{let s=new FormData;s.append("name",f.value),s.append("email",m.value),s.append("phone",p.value),s.append("cv",E.value),console.log(s),y.value=!0,await fetch(`${V}/careers/${$}/apply`,{method:"POST",headers:{},body:s}).then(l=>l.json()).then(l=>{console.log(l),y.value=!1,l.message?(h.value=l.errors.email==null?null:l.errors.email[0],v.value=l.errors.name==null?null:l.errors.name[0],_.value=l.errors.phone==null?null:l.errors.phone[0],g.value=l.errors.cv==null?null:l.errors.cv[0]):(h.value=null,v.value=null,_.value=null,g.value=null,R.push(`/${b.value}/submited`))})};return q({title:b.value=="ar"?" وظائف/الكثيري للسيارات":"alkathiri motors / careers",meta:[{name:"description",content:"My amazing site."}]}),(s,l)=>{const B=L;return r(),o("div",null,[e("div",Q,[e("h3",{"data-find":s.$t("JOIN OUR TEAM")},n(s.$t("find your career")),9,W),e("div",X,[e("div",Y,[Z,e("p",j,[e("span",null,n(t(c).length),1),F(" "+n(s.$t("open opportunities")),1)]),e("div",ee,[(r(!0),o(N,null,U(t(c),i=>(r(),o("div",{onClick:d=>s.mainid=i.id,class:I(["job d-flex align-items-center justify-content-between",{active:i.id==t($)}])},[e("div",se,[e("h6",null,n(i.title),1),e("span",null,n(i.address)+" | "+n(i.created_at),1)]),te],10,le))),256))])]),e("div",ne,[(r(!0),o(N,null,U(t(c),i=>(r(),o("div",null,[t($)==i.id?(r(),o("form",{key:0,action:"",onSubmit:l[4]||(l[4]=P(()=>{},["prevent"]))},[e("h5",null,[ae,F(" "+n(i.title),1)]),e("div",oe,[e("label",re,n(s.$t("full name")),1),w(e("input",{"onUpdate:modelValue":l[0]||(l[0]=d=>C(f)?f.value=d:null),type:"text",placeholder:s.$t("write your name..")},null,8,ie),[[k,t(f)]]),t(v)?(r(),o("span",de,n(t(v)),1)):u("",!0)]),e("div",ue,[e("label",ce,n(s.$t("email")),1),w(e("input",{"onUpdate:modelValue":l[1]||(l[1]=d=>C(m)?m.value=d:null),type:"email",placeholder:"example@mail.com..."},null,512),[[k,t(m)]]),t(h)?(r(),o("span",pe,n(t(h)),1)):u("",!0)]),e("div",me,[e("label",fe,n(s.$t("phone number")),1),w(e("input",{"onUpdate:modelValue":l[2]||(l[2]=d=>C(p)?p.value=d:null),type:"text",placeholder:"05xxxxxxxx..."},null,512),[[k,t(p)]]),t(_)?(r(),o("span",he,n(t(_)),1)):u("",!0)]),e("div",_e,[e("label",ve,n(s.$t("resume")),1),e("input",{onChange:T,type:"file",name:""},null,32),t(g)?(r(),o("span",ge,n(t(g)),1)):u("",!0)]),e("div",ye,[e("label",be,n(s.$t("Do you have any comments ?")),1),e("textarea",{style:{resize:"none"},placeholder:s.$t("write your message here"),name:"",cols:"10",rows:"5"},null,8,xe)]),e("div",null,[A(B,null,{default:H(()=>[e("button",{class:"d-flex align-items-center gap-3",disabled:t(y),onClick:l[3]||(l[3]=d=>z())},[e("span",null,n(s.$t("send application")),1),t(y)?(r(),o("div",we)):u("",!0)],8,$e)]),_:1})])],32)):u("",!0)]))),256))])])]),t(x)?(r(),o("div",ke,Me)):u("",!0)])}}};export{Te as default};
