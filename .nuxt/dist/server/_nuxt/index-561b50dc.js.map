{"version":3,"file":"index-561b50dc.js","sources":["../../../../pages/purchase/index.vue"],"sourcesContent":["<template>\r\n    <div>\r\n       <div v-if=\"typeActive==1\" class=\"container purchasee\" style=\"margin-top: 150px;\">\r\n           <div class=\"row justify-content-center my-3\">\r\n             <div class=\"col-12 col-xl-7 col-lg-7 \">\r\n                <h3 class=\"head\" :data-purchase=\"$t('FIND WHAT YOU NEED')\">{{ $t('PURCHASE ORDER') }}</h3>\r\n                <div class=\"individual\">\r\n                 \r\n                  <form  action=\"\" @submit.prevent>\r\n                   <div class=\"header\">\r\n              \r\n                    <p class=\"first\" @click=\"typeActive = 1\" :class=\"{'active': typeActive == 1}\">{{ $t('individuals') }}</p>                   \r\n                   \r\n                     <span></span>\r\n                    <p @click=\"typeActive = 2\" :class=\"{'active': typeActive == 2}\">{{ $t('corporate') }}</p>                   \r\n                \r\n                  </div>\r\n                     <div class=\"method\">\r\n                        <h4>{{ $t('payment method') }}</h4>\r\n                         <div class=\"choose\">\r\n                             <span @click=\"methodActive = 1\" :class=\"{'active':methodActive == 1}\">{{ $t('finance') }}</span>\r\n                             <span @click=\"methodActive = 2\" :class=\"{'active':methodActive == 2}\">{{ $t('cash') }}</span>\r\n                         </div>\r\n                     </div>\r\n                     <div class=\"finance\" :class=\"{'active':methodActive == 1}\">\r\n                    \r\n                     <div class=\"inp\">\r\n                        <label for=\"\">{{ $t('full name') }} *</label>\r\n                        <input type=\"text\" v-model=\"objPurchase.name\" :placeholder=\"$t('write your name..')\">\r\n                  <span class=\"errorMessage text-danger fw-bold \"  v-if=\"nameError\">{{ nameError }}</span>\r\n                     </div>\r\n                     <div class=\"inp\">\r\n                        <label for=\"\">{{ $t('mobile number') }} *</label>\r\n                        <input type=\"text\" v-model=\"objPurchase.phone\" placeholder=\"05xxxxxxxx..\">\r\n                     <span class=\"errorMessage text-danger fw-bold \"  v-if=\"phoneError\">{{ phoneError }}</span>\r\n                     </div>\r\n                     <div class=\"inp\">\r\n                        <label for=\"\">{{$t('Total salary in ATM')}}*</label>\r\n                        <input type=\"number\" v-model=\"objPurchase.salary\" :placeholder=\"$t('Salary and allowances...')\">\r\n                       <span class=\"errorMessage text-danger fw-bold \"  v-if=\"salaryError\">{{ salaryError }}</span>  \r\n                     </div>\r\n                     <div class=\"inp\">\r\n                        <label for=\"\">{{$t('Total commitments')}}*</label>\r\n                        <input type=\"number\" v-model=\"objPurchase.commitments\" :placeholder=\"$t('Commitment amount...')\">\r\n                     <span class=\"errorMessage text-danger fw-bold \"  v-if=\"commitmentsError\">{{ commitmentsError }}</span>\r\n                     </div>\r\n                     <div class=\"inpWithRadio d-flex   gap-4\">\r\n                        <label for=\"\">{{ $t('Is there a mortgage loan ?') }} *</label>\r\n                        <div class=\"d-flex flex-column gap-2\">\r\n                          <div class=\"d-flex align-items-center gap-3\">\r\n                           <div class=\"d-flex align-items-center gap-2\">\r\n                            <input type=\"radio\" id=\"yes\" value=\"1\" v-model=\"objPurchase.having_loan\"  >\r\n                            <label for=\"yes\">{{ $t('yes') }}</label>\r\n                            \r\n                         </div>\r\n                         <div class=\"d-flex align-items-center gap-2\">\r\n                            <input type=\"radio\" id=\"no\" value=\"0\" v-model=\"objPurchase.having_loan\"   checked>\r\n                            <label for=\"no\">{{ $t('no') }}</label>\r\n                         </div>\r\n                          </div>\r\n                         <span class=\"errorMessage text-danger fw-bold \"  v-if=\"having_loanError\">{{ having_loanError }}</span>\r\n\r\n                        </div>\r\n                        \r\n\r\n                     </div>\r\n                     <div class=\"inp\">\r\n                        <label for=\"\">{{ $t('The last installment') }} *</label>\r\n                        <select v-model=\"objPurchase.last_installment\">\r\n                            <option :value=\"null\" disabled>{{ $t('%35') }}</option>\r\n                            <option value=\"35\" selected>35</option>\r\n                            <option value=\"25\">25</option>\r\n                            <option value=\"30\">30</option>\r\n                            <option value=\"40\">40</option>\r\n                            <option value=\"45\">45</option>\r\n                            <option value=\"50\">50</option>\r\n                        </select>\r\n                     <span class=\"errorMessage text-danger fw-bold \"  v-if=\"last_installmentError\">{{ last_installmentError }}</span>\r\n                     </div>\r\n                     <div class=\"inp\">\r\n                        <label for=\"\">{{ $t('The first installment') }}</label>\r\n                      <select v-model=\"objPurchase.first_installment\">\r\n                            <option :value=\"null\" disabled>{{ $t('%15') }}</option>\r\n                            <option value=\"0\">10</option>\r\n                            <option value=\"15\">15</option>\r\n                            <option value=\"20\">20</option>\r\n                            <option value=\"25\">40</option>\r\n                            <option value=\"10\">10</option>\r\n                        </select> \r\n                        <span class=\"errorMessage text-danger fw-bold \"  v-if=\"first_installmentError\">{{ first_installmentError }}</span>\r\n                     </div>\r\n                     <div class=\"inp\">\r\n                        <label for=\"\">{{$t('city')}}*</label>\r\n                          <select v-model=\"objPurchase.city_id\">\r\n                          <option :value=\"null\" disabled>{{ $t('city') }}</option>\r\n                            <option v-for=\"bank in purchaseForm.cities\" :value=\"bank.id\"  >{{ bank.name }}</option>\r\n                        </select>\r\n                                    <div v-if=\"pending\" class=\"spinner-border spinner-border-sm\" role=\"status\">\r\n                                    </div>\r\n                        <span class=\"errorMessage text-danger fw-bold\"  v-if=\"cityError\">{{ cityError }}</span>\r\n                     </div>\r\n                     <div class=\"inp\">\r\n                        <label for=\"\">{{$t('employer')}}*</label>\r\n                         <input type=\"text\" v-model=\"objPurchase.work\" :placeholder=\"$t('employer')\">\r\n                      <span class=\"errorMessage text-danger fw-bold\"  v-if=\"workError\">{{ workError }}</span>\r\n                     </div>\r\n                      <div class=\"inp\">\r\n                        <label for=\"\">{{$t('Bank account')}}*</label>\r\n                        <select  v-model=\"objPurchase.bank_id\">\r\n                        <option :value=\"null\" disabled>{{ $t('Select bank...') }}</option>\r\n                            <option v-for=\"bank in purchaseForm.banks\" :value=\"bank.id\"  >{{ bank.name }}</option>\r\n                        </select>\r\n                         <div v-if=\"pending\" class=\"spinner-border spinner-border-sm\" role=\"status\">\r\n                                    </div>\r\n                      <span class=\"errorMessage text-danger fw-bold \"  v-if=\"bankError\">{{ bankError }}</span>\r\n                     </div>\r\n                     <div class=\"inpWithRadio d-flex  gap-4\">\r\n                        <label for=\"\">{{$t('Driving License Status')}}*</label>\r\n                        <div class=\"d-flex flex-column gap-2\">\r\n                        <div class=\"d-flex align-items-center gap-2\">\r\n                            <div class=\"d-flex align-items-center gap-2\">\r\n                            <input type=\"radio\" value=\"available\" v-model=\"objPurchase.driving_license\" >\r\n                            <label for=\"\">{{ $t('valid') }}</label>\r\n                         </div>\r\n                         <div class=\"d-flex align-items-center gap-2\">\r\n                            <input type=\"radio\" v-model=\"objPurchase.driving_license\" value=\"expired\"  checked>\r\n                            <label for=\"\">{{ $t('invalid') }}</label>\r\n                         </div>\r\n                         <div class=\"d-flex align-items-center gap-2\">\r\n                            <input type=\"radio\" v-model=\"objPurchase.driving_license\" value=\"doesnt_exist\">\r\n                            <label for=\"\">{{ $t('unavailable') }}</label>\r\n                         </div>\r\n                        </div>\r\n                   \r\n                  <span class=\"errorMessage text-danger fw-bold \"  v-if=\"drivingError\">{{ drivingError }}</span>\r\n                        </div>\r\n              \r\n                     </div>\r\n                     </div>\r\n                     <div class=\"corporate\" :class=\"{'active':methodActive == 2}\" >\r\n                  \r\n                     <div class=\"inp\">\r\n                        <label for=\"\">{{ $t('full name') }} *</label>\r\n                        <input type=\"text\" v-model=\"objCash.name\" :placeholder=\"$t('write your name..')\">\r\n                      <span class=\"errorMessage text-danger fw-bold \"  v-if=\"nameCashError\">{{ nameCashError}}</span>\r\n                     </div>\r\n                     <div class=\"inp\">\r\n                        <label for=\"\">{{ $t('mobile number') }} *</label>\r\n                        <input type=\"text\" v-model=\"objCash.phone\" placeholder=\"05xxxxxxxx..\">\r\n                  <span class=\"errorMessage text-danger fw-bold \"  v-if=\"phoneCashError\">{{ phoneCashError }}</span>\r\n\r\n                     </div>\r\n                     </div>\r\n                     \r\n                  </form>\r\n                   <button class=\"d-flex align-items-center justify-content-center gap-3\" type=\"\" @click=\"sendIndividual()\">\r\n                     <span>{{ $t('send') }}</span> \r\n               <div v-if=\"spinnerBtn\"  class=\"spinner-border text-light\" role=\"status\">\r\n               </div>\r\n                   </button>\r\n                </div>\r\n             </div>\r\n             <div class=\"col-12 col-xl-5 col-lg-5  thefixed\">\r\n             <div class=\"fixed-slide\">\r\n                <div v-if=\"!pending\" class=\"mainlatestbox w-100\">\r\n                        <div class=\"image\">\r\n                    <img :src=\"mainCar.cover_image\" alt=\"\">\r\n                </div>\r\n                <h3>{{ mainCar.name }}</h3>\r\n                <div class=\"text1\">\r\n                    <div class=\"price\">\r\n                        <span>{{ $t('price') }}</span>\r\n                        <h4>{{ mainCar.selling_price }} SAR</h4>\r\n                    </div>\r\n                    <div class=\"after\">\r\n                        <span>{{ $t('after vat') }}</span>\r\n                        <h4>{{ mainCar.selling_price_after_vat }} SAR</h4>\r\n                    </div>\r\n\r\n                </div>\r\n                      <span class=\"detail\">\r\n                {{ $t('details') }}\r\n                    <i class=\"fa-solid fa-chevron-right\"></i> \r\n                </span>\r\n                <div class=\"overlay\">\r\n                  \r\n                </div>\r\n              <i class=\"fa-regular fa-heart fav\"></i>\r\n                </div>\r\n             </div>\r\n               \r\n             \r\n\r\n             <div v-if=\"pending\" class=\"spinner-border\" style=\"width: 5rem; height: 5rem;\" role=\"status\">\r\n  \r\n            </div>\r\n            \r\n             </div>\r\n           </div>\r\n       </div>\r\n          <div v-if=\"typeActive==2\" class=\"purchasee container\">\r\n           <div class=\"row\">\r\n             <div class=\"col-12 col-xl-7 col-lg-7 \">\r\n                <h3 class=\"head\">{{ $t('PURCHASE ORDER') }}</h3>\r\n                <div class=\"individual\">\r\n                 \r\n                  <form  action=\"\" @submit.prevent>\r\n                   <div class=\"header\">    \r\n                    <p class=\"first\" @click=\"typeActive = 1\" :class=\"{'active': typeActive == 1}\">{{ $t('individuals') }}</p>                   \r\n                     <span></span>\r\n                    <p @click=\"typeActive = 2\" :class=\"{'active': typeActive == 2}\">{{ $t('corporate') }}</p>                   \r\n                  \r\n                  </div>\r\n                     <div class=\"method\">\r\n                        <h4>{{ $t('payment method') }}</h4>\r\n                         <div class=\"choose\">\r\n                             <span @click=\"methodActiveCorparate = 1\" :class=\"{'active':methodActiveCorparate == 1}\">{{ $t('finance') }}</span>\r\n                             <span @click=\"methodActiveCorparate = 2\" :class=\"{'active':methodActiveCorparate == 2}\">{{ $t('cash') }}</span>\r\n                         </div>\r\n                     </div>\r\n                     <div class=\"finance\" :class=\"{'active':methodActiveCorparate == 1}\">\r\n                        <div class=\"inp special\" v-for=\"item,index in form\" :key=\"item\">\r\n                        <label for=\"\">{{ $t('The selected vehicle *') }}</label>\r\n                        <input class=\"bigOne\" type=\"text\" :placeholder=\"$t('Vehicle name')\" v-model=\"item.car_name\">\r\n                        <input type=\"number\" placeholder=\"the number\" v-model=\"item.count\">\r\n                        <div class=\"d-flex align-items-center gap-2\">\r\n                        <i @click=\"addRow()\" class=\"fa-solid fa-plus\"></i>\r\n                       <i v-if=\"form.length > 1\" @click=\"removeRow()\" class=\"fa-solid fa-minus\"></i>\r\n                        </div>\r\n\r\n                     </div>\r\n                     <div class=\"inp\">\r\n                        <label for=\"\">{{ $t('Company Name') }} *</label>\r\n                        <input type=\"text\" v-model=\"objCorporateFinance.organization_name\" :placeholder=\"$t('Company Name')\">\r\n                     <span class=\"errorMessage text-danger fw-bold \"  v-if=\"organization_nameError\">{{ organization_nameError }}</span>\r\n                     </div>\r\n                     <div class=\"inp\">\r\n                        <label for=\"\">{{ $t('Official email') }} *</label>\r\n                        <input type=\"text\"  v-model=\"objCorporateFinance.organization_email\" placeholder=\"example@mail.com\">\r\n                        <span class=\"errorMessage text-danger fw-bold \"  v-if=\"organization_emailError\">{{ organization_emailError }}</span>\r\n                     </div>\r\n                     <div class=\"inp\">\r\n                        <label for=\"\">{{ $t('The Chief Executive Officer (CEO)') }} *</label>\r\n                        <input type=\"text\"  v-model=\"objCorporateFinance.organization_ceo\" :placeholder=\" $t('The Chief Executive Officer (CEO)')\">\r\n                       <span class=\"errorMessage text-danger fw-bold \"  v-if=\"organization_ceoError\">{{ organization_ceoError }}</span>    \r\n                     </div>\r\n                     <div class=\"inp\">\r\n                        <label for=\"\">{{ $t('mobile number') }} *</label>\r\n                        <input type=\"text\"  v-model=\"objCorporateFinance.phone\" placeholder=\"05xxxxxxxx...\">\r\n                        <span class=\"errorMessage text-danger fw-bold \"  v-if=\"phoneCorporateError\">{{ phoneCorporateError }}</span>    \r\n     \r\n                     </div>\r\n                     <div class=\"inp\">\r\n                        <label for=\"\"> {{ $t(\"The company's headquarter\") }} * </label>\r\n                        <input type=\"text\"  v-model=\"objCorporateFinance.organization_location\" :placeholder=\"$t('city')\">\r\n                       <span class=\"errorMessage text-danger fw-bold\"  v-if=\"organization_locationError\">{{ organization_locationError }}</span>    \r\n\r\n                     </div>\r\n                        <div class=\"inp\">\r\n                        <label for=\"\">{{ $t('Company activity (According to the record)') }} *</label>\r\n                         <input type=\"text\" v-model=\"objCorporateFinance.organization_activity\" :placeholder=\"$t('Company activity (According to the record)')\">\r\n                   <span class=\"errorMessage text-danger fw-bold \"  v-if=\"organization_activityError\">{{ organization_activityError }}</span>    \r\n\r\n                     </div>\r\n                     <div class=\"inp\">\r\n                        <label for=\"\">{{$t('Company age ')}}*</label>\r\n                         <input type=\"number\" :placeholder=\"$t('Company age...')\" v-model=\"objCorporateFinance.organization_age\" name=\"\" >\r\n                        <span class=\"errorMessage text-danger fw-bold \"  v-if=\"organization_ageError\">{{ organization_ageError }}</span>    \r\n\r\n                     </div>\r\n\r\n                      <div class=\"inp\">\r\n                        <label for=\"\">{{$t('Bank account')}}*</label>\r\n                         <select  v-model=\"objCorporateFinance.bank_id\">\r\n                         <option :value=\"null\" disabled>{{$t('Bank account')}}</option>\r\n                            <option v-for=\"bank in purchaseForm.banks\" :value=\"bank.id\"  >{{ bank.name }}</option>\r\n                        </select>\r\n                         <div v-if=\"pending\" class=\"spinner-border spinner-border-sm\" role=\"status\">\r\n                                    </div>\r\n                   <span class=\"errorMessage text-danger fw-bold \"  v-if=\"bankCorporateError\">{{ bankCorporateError }}</span>    \r\n  \r\n                     </div>\r\n                   \r\n                     </div>\r\n                     <div class=\"corporate\" :class=\"{'active':methodActiveCorparate == 2}\" >\r\n                        <div class=\"inp special\" v-for=\"item,index in form\" :key=\"item\">\r\n                        <label for=\"\">{{ $t('The selected vehicle *') }}</label>\r\n                        <input class=\"bigOne\" type=\"text\" :placeholder=\"$t('Vehicle name')\" v-model=\"item.car_name\">\r\n                        <span class=\"errorMessage text-danger fw-bold \"  v-if=\"car_nameErorr\">{{ car_nameErorr }}</span>\r\n                        <input type=\"number\" placeholder=\"the number\" v-model=\"item.count\">\r\n                       <span class=\"errorMessage text-danger fw-bold \"  v-if=\"car_countErorr\">{{ car_countErorr }}</span>   \r\n                        <div class=\"d-flex align-items-center gap-2\">\r\n                        <i @click=\"addRow()\" class=\"fa-solid fa-plus\"></i>\r\n                       <i v-if=\"form.length > 1\" @click=\"removeRow()\" class=\"fa-solid fa-minus\"></i>\r\n                        </div>\r\n\r\n                     </div>\r\n                     <div class=\"inp\">\r\n                        <label for=\"\">{{ $t('Company Name') }} *</label>\r\n                        <input type=\"text\" v-model=\"objCorporateCash.organization_name\" :placeholder=\"$t('Company Name')\">\r\n                  <span class=\"errorMessage text-danger fw-bold \"  v-if=\"organization_nameError\">{{ organization_nameError }}</span>\r\n\r\n                     </div>\r\n                     <div class=\"inp\">\r\n                        <label for=\"\">{{ $t('Official email') }} *</label>\r\n                        <input type=\"email\" v-model=\"objCorporateCash.organization_email\" placeholder=\"example@mail.com\">\r\n                     <span class=\"errorMessage text-danger fw-bold \"  v-if=\"organization_emailError\">{{ organization_emailError }}</span>\r\n\r\n                     </div>\r\n                     <div class=\"inp\">\r\n                        <label for=\"\">{{ $t('The Chief Executive Officer (CEO)') }} *</label>\r\n                        <input type=\"text\" v-model=\"objCorporateCash.organization_ceo\" :placeholder=\"$t('The Chief Executive Officer (CEO)')\">\r\n                     <span class=\"errorMessage text-danger fw-bold \"  v-if=\"organization_ceoError\">{{ organization_ceoError }}</span>    \r\n    \r\n                     </div>\r\n                     <div class=\"inp\">\r\n                        <label for=\"\">{{ $t('mobile number') }} *</label>\r\n                        <input type=\"text\" v-model=\"objCorporateCash.phone\" placeholder=\"05xxxxxxxx...\">\r\n                   <span class=\"errorMessage text-danger fw-bold \"  v-if=\"phoneCorporateError\">{{ phoneCorporateError }}</span>    \r\n                     </div>\r\n                     </div>\r\n                  </form>\r\n                    <button class=\"d-flex align-items-center justify-content-center gap-3\" type=\"\" @click=\"sendCorporate()\">\r\n                     <span>{{ $t('send') }}</span> \r\n               <div v-if=\"spinnerBtn2\"  class=\"spinner-border text-light\" role=\"status\">\r\n               </div>\r\n                   </button>\r\n                 \r\n                  \r\n                </div>\r\n             </div>\r\n             <div class=\"col-12 col-xl-5 col-lg-5  thefixed\">\r\n             <div class=\"fixed-slide\">\r\n                <p>Lorem, ipsum dolor sit amet consectetur \r\n               adipisicing elit. Earum quibusdam aspernatur\r\n                accusantium obcaecati maiores laborum libero\r\n                 quam exercitationem sapiente consectetur,\r\n                molestias ratione in cumque amet nulla \r\n                similique facilis ipsam praesentium.</p>\r\n                 <div class=\"icons\">\r\n                  <div class=\"icon d-flex align-items-center gap-3\">\r\n                   <i class=\"fa-solid fa-phone\"></i>\r\n                    <h4>{{ $t('mobile number') }}: <span>{{generalData.phone}}</span></h4>\r\n                  </div>\r\n                  <div class=\"icon d-flex align-items-center gap-3\">\r\n                   <i class=\"fa-solid fa-envelope\"></i>\r\n                      <h4>{{ $t('email') }}: <span>{{generalData.email}}</span></h4>\r\n                  </div>\r\n                  <div class=\"icon d-flex align-items-center gap-3\">\r\n                <i class=\"fa-brands fa-whatsapp\"></i>\r\n                <h4>{{ $t('Whatsapp') }}: <a  target=\"_blank\" :href=\"`https://wa.me/${generalData.whatsapp}`\" class=\"click\">{{ $t('click here') }}</a></h4>\r\n                  </div>\r\n                 </div>\r\n                 <p class=\"text\">\r\n                  {{ $t('Or please fill the form below: You will receive a reply within a maximum of 24 hours.') }}\r\n                 </p>\r\n             </div>\r\n             \r\n             </div>\r\n           </div>\r\n       </div> \r\n  \r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport Swal from 'sweetalert2/dist/sweetalert2.js'\r\nimport 'sweetalert2/src/sweetalert2.scss'\r\nimport axios from 'axios';\r\nimport { createToast } from 'mosha-vue-toastify';\r\nimport 'mosha-vue-toastify/dist/style.css';\r\n\r\nconst {locale } = useI18n();\r\nlet lang = ref(locale);\r\nconst localePath = useLocalePath();\r\nlet spinnerBtn = ref(false);\r\nlet spinnerBtn2 = ref(false);\r\nlet methodActive = ref(1);\r\nlet methodActiveCorparate = ref(1);\r\nlet typeActive = ref(1);\r\nconst route = useRoute()\r\nlet url = getUrl();\r\nlet id = route.query.id ? route.query.id : 1;\r\nlet maincolorId = route.query.colorId ? route.query.colorId : 1;\r\nlet pending = ref(false);  \r\n\r\nlet purchaseForm = ref([]);\r\nlet mainCar = ref([]);\r\nlet generalData = ref([]);\r\nconst carAndPurchaseFunc = async () => {\r\n  pending.value = true; \r\nconst  car  = await axios.get(`${url}/cars/${id}`,{\r\n      headers: {\r\n    'Content-Language':`${lang.value}`\r\n  }\r\n});\r\nconst  general  = await axios.get(`${url}/general`,{\r\n      headers: {\r\n    'Content-Language':`${lang.value}`\r\n  }\r\n});\r\nconst  purchase  = await axios(`${url}/purchase-form-info`,{\r\n      headers: {\r\n    'Content-Language':`${lang.value}`\r\n  }\r\n});\r\n\r\n   if (car.status == 200 && purchase.status == 200) {\r\n      pending.value = false;\r\n}\r\ngeneralData.value = general.data;\r\npurchaseForm.value = purchase.data;\r\nmainCar.value = car.data.data;\r\n}\r\n\r\ncarAndPurchaseFunc();\r\n\r\n\r\n\r\n let completed = ref('Payment completed successfully');\r\n    let success = ref('success');\r\n    if (lang.value == 'ar') {\r\n      completed.value = 'تم الدفع بنجاح';\r\n      success.value = 'نجاح';\r\n    } else if (lang.value == 'en') {\r\n      completed.value = 'Payment completed successfully'\r\n      success.value = 'success';\r\n    }\r\n\r\n\r\n\r\n    const form = ref([\r\n      { car_name : '', count: 0}\r\n    ])\r\n\r\n    const addRow = () => {\r\n       form.value.push({ car_name: '', count: 0 });\r\n       console.log(form.value);\r\n    }\r\n\r\n    const removeRow = (index) =>{\r\n      if(form.value.length > 1){\r\n         form.value.splice(index, 1);\r\n       }\r\n       console.log(form.value);\r\n    }\r\n\r\n\r\nlet objPurchase = ref({\r\npayment_type:'finance',\r\n car_id: id,\r\ncolor_id: maincolorId,\r\nname: null,\r\nphone: null,\r\nsalary: null,\r\ncommitments: null,\r\nhaving_loan: null,\r\nlast_installment: null,\r\nfirst_installment: null,\r\ncity_id: null,\r\nwork: null,\r\n   bank_id: null,\r\ndriving_license: null,\r\n});\r\n\r\nlet objCash = ref({\r\npayment_type:'cash',\r\ncar_id: id,\r\ncolor_id: maincolorId,\r\nname: null,\r\nphone: null,\r\n})\r\n\r\n\r\nlet nameError = ref(null);\r\nlet phoneError = ref(null);\r\nlet cityError = ref(null);\r\nlet salaryError = ref(null);\r\nlet commitmentsError = ref(null);\r\nlet last_installmentError = ref(null);\r\nlet first_installmentError = ref(null);\r\nlet workError = ref(null);\r\nlet bankError = ref(null);\r\nlet drivingError = ref(null);\r\nlet having_loanError = ref(null);\r\nlet nameCashError = ref(null);\r\nlet phoneCashError = ref(null);\r\n\r\n\r\nconst sendIndividual = async () => {\r\n   spinnerBtn.value = true;\r\n   let result = fetch(`${url}/individuals-orders`, {\r\n      method: 'post',\r\n       headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(methodActive.value == 1 ? objPurchase.value : objCash.value ),\r\n   }).then((response) => response.json())\r\n    .then((json) => {\r\n       console.log(json);\r\n          spinnerBtn.value = false;\r\n    \r\n      if (json.message) {\r\n         phoneError.value = json.errors.phone == undefined ? null : json.errors.phone[0]; \r\n         phoneCashError.value = json.errors.phone == undefined ? null : json.errors.phone[0]; \r\n         nameError.value = json.errors.name  == undefined ? null : json.errors.name[0]; \r\n         nameCashError.value = json.errors.name  == undefined ? null : json.errors.name[0]; \r\n         salaryError.value = json.errors.salary  == undefined ? null : json.errors.salary[0]; \r\n         commitmentsError.value = json.errors.commitments  == undefined ? null : json.errors.commitments[0]; \r\n         having_loanError.value = json.errors.having_loan  == undefined ? null : json.errors.having_loan[0]; \r\n         last_installmentError.value = json.errors.last_installment  == undefined ? null : json.errors.last_installment[0]; \r\n         first_installmentError.value = json.errors.first_installment  == undefined ? null : json.errors.first_installment[0]; \r\n         workError.value = json.errors.work  == undefined ? null : json.errors.work[0]; \r\n         cityError.value = json.errors.city_id  == undefined ? null : json.errors.city_id[0]; \r\n         bankError.value = json.errors.bank_id  == undefined ? null : json.errors.bank_id[0]; \r\n         drivingError.value = json.errors.driving_license  == undefined ? null : json.errors.driving_license[0]; \r\n      } else {\r\n         if (methodActive.value == 1) {\r\n         objPurchase.value = '';   \r\n         } else if (methodActive.value == 2) {\r\n          objCash.value = '';  \r\n         }\r\n         nameError.value = null;\r\n         phoneCashError.value = null\r\n         salaryError.value = null;\r\n         nameCashError.value = null\r\n         commitmentsError.value = null;\r\n         phoneError.value = null;\r\n         having_loanError.value = null;\r\n         last_installmentError.value = null;\r\n         first_installmentError.value = null;\r\n         cityError.value = null;\r\n         workError.value = null;\r\n         bankError.value = null;\r\n         drivingError.value = null;\r\n          createToast({\r\n            title:  completed.value,\r\n            description: success.value,\r\n            },\r\n            {\r\n            timeout: 5000,\r\n            toastBackgroundColor: 'green',\r\n            showIcon: 'true',\r\n            type: 'success',\r\n            transition: 'bounce',\r\n            })  \r\n      \r\n      }\r\n    \r\n     \r\n\r\n      \r\n    });\r\n}\r\n\r\n\r\nlet objCorporateFinance = ref({\r\n payment_type:'finance',\r\ncars:form.value,\r\nbank_id: null,\r\norganization_activity: null,\r\norganization_name: null,\r\norganization_age: null,\r\norganization_ceo: null,\r\norganization_email: null,\r\norganization_location: null,\r\norganization_location: null,\r\nphone:null\r\n});\r\n\r\nlet objCorporateCash = ref({\r\npayment_type: 'cash',\r\ncars:form.value,\r\norganization_ceo: null,\r\norganization_email: null,\r\norganization_name: null,\r\nphone:null\r\n\r\n});\r\n\r\nlet organization_activityError = ref(null);\r\nlet organization_ageError = ref(null);\r\nlet organization_ceoError = ref(null);\r\nlet organization_emailError = ref(null);\r\nlet organization_locationError = ref(null);\r\nlet organization_nameError = ref(null);\r\nlet bankCorporateError = ref(null);\r\nlet phoneCorporateError = ref(null);\r\nlet car_nameErorr = ref(null);\r\nlet car_countErorr = ref(null);\r\n\r\n\r\nconst sendCorporate = async () => {\r\n   spinnerBtn2.value = true;\r\n     let result = fetch(`${url}/corporates-orders`, {\r\n      method: 'post',\r\n       headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(methodActiveCorparate.value == 1 ? objCorporateFinance.value : objCorporateCash.value ),\r\n   }).then((response) => response.json())\r\n    .then((json) => {\r\n       console.log(json);\r\n       spinnerBtn2.value = false;\r\n      if (json.message) {\r\n         organization_activityError.value = json.errors.organization_activity == undefined ? null : json.errors.organization_activity[0];  \r\n         organization_ageError.value = json.errors.organization_age == undefined ? null : json.errors.organization_age[0];  \r\n         organization_ceoError.value = json.errors.organization_ceo == undefined ? null : json.errors.organization_ceo[0];  \r\n         organization_emailError.value = json.errors.organization_email == undefined ? null : json.errors.organization_email[0];  \r\n         organization_locationError.value = json.errors.organization_location == undefined ? null : json.errors.organization_location[0];  \r\n         organization_nameError.value = json.errors.organization_name == undefined ? null : json.errors.organization_name[0];  \r\n         bankCorporateError.value = json.errors.bank_id == undefined ? null : json.errors.bank_id[0];  \r\n         phoneCorporateError.value = json.errors.phone == undefined ? null : json.errors.phone[0];  \r\n         //car_nameErorr.value = json.errors.cars.0.car_name == undefined ? null : json.errors.cars[0].car_name;\r\n\r\n      } else {\r\n           if (methodActiveCorparate.value == 1 ) {\r\n              objCorporateFinance.value = '';\r\n           } else if (methodActiveCorparate.value == 2) {\r\n         objCorporateCash.value = ''\r\n         }\r\n         \r\n         organization_activityError.value = null;\r\n         organization_ageError.value = null;\r\n         organization_ceoError.value = null;\r\n         organization_emailError.value = null;\r\n         organization_nameError.value = null;\r\n         bankCorporateError.value = null;\r\n         phoneCorporateError.value = null;\r\n         organization_locationError.value = null;\r\n         for (let i = 0; i < form.value.length; i++){\r\n            form.value[i].car_name = '';\r\n            form.value[i].count = 0;\r\n         }\r\n        createToast({\r\n            title:  completed.value,\r\n            description: success.value,\r\n            },\r\n            {\r\n            timeout: 5000,\r\n            toastBackgroundColor: 'green',\r\n            showIcon: 'true',\r\n            type: 'success',\r\n            transition: 'bounce',\r\n            })  \r\n      \r\n      }\r\n    \r\n     \r\n\r\n      \r\n    });\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n</style>"],"names":[],"mappings":"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"}