import{a as u,Q as ee,m as se,L as i,M as e,N as c,u as o,F as v,R as g,U as A,V as m,W as S,j as h,O as B,z as d,X as L,P as G}from"./swiper-vue.cc5027a5.js";import{b as te,c as ae,u as le,a as oe}from"./entry.1b4b7411.js";import{u as ne}from"./composables.2a0999ff.js";import{a as H,g as ie}from"./axios.78c6ffe3.js";import{t as D}from"./style.3a1f041f.js";const ce={class:"brandCars"},de={class:"container p-2"},re={class:"row p-2 gap-4"},ue={class:"col-12 col-xl-3 col-lg-3 col-md-12 d-flex flex-column align-items-center"},pe={class:"filter d-flex align-items-center justify-content-between w-100"},_e={class:"rangeSlider"},me=e("div",{class:"mainprocess"},[e("span")],-1),he=e("div",{class:"rangeGroups"},[e("input",{type:"range",class:"range-min",min:"222000",max:"870000",value:"222000",step:"100"}),e("input",{type:"range",class:"range-max",min:"222000",max:"870000",value:"870000",step:"100"})],-1),ve={class:"inputs w-100 d-flex align-items-center justify-content-between"},ge={class:"accordion",id:"accordionExample"},fe={class:"accordion-item mainItem"},ye={class:"accordion-header"},be={class:"accordion-button collapsed mainbtnacc",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapsecars","aria-expanded":"true","aria-controls":"collapseOne"},ke={class:"theHead"},xe={id:"collapsecars",class:"accordion-collapse collapse show","data-bs-parent":"#accordionExample"},we={class:"accordion-body"},Ce={class:"checksCars"},Se={class:"inp"},$e=["id","checked","value"],Ie=["for"],Oe=["src"],Ne={class:"accordion-item mainItem"},qe={class:"accordion-header"},Ve={class:"accordion-button d-flex align-items-center gap-5 mainbtnacc",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"},Le={class:"theHead"},Ue={class:"accordion-body"},Pe={class:"accordion",id:"accordionbranch1"},Ee={class:"accordion-item mainbranch w-100"},Me={class:"accordion-header w-100"},Re={class:"accordion-button d-flex align-items-center gap-3",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOnebranch1","aria-expanded":"true","aria-controls":"collapseOne"},Te=["value"],Je={style:{"white-space":"nowrap"}},je={id:"collapseOnebranch1",class:"accordion-collapse collapse show","data-bs-parent":"#accordionbranch1"},ze={class:"accordion-body"},Ae={class:"checks d-flex flex-column gap-3"},Be={class:"inp d-flex align-items-center gap-3 p-2"},Ge=["value"],He={key:1,class:"fw-bold text-center my-2"},De={class:"accordion-item mainItem"},Fe={class:"accordion-header"},Qe={class:"accordion-button collapsed mainbtnacc",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseThree","aria-expanded":"true","aria-controls":"collapseOne"},We={class:"theHead"},Xe={id:"collapseThree",class:"accordion-collapse collapse","data-bs-parent":"#accordionExample"},Ke={class:"accordion-body d-flex flex-column gap-2"},Ye={class:"inp d-flex align-items-center gap-2"},Ze=e("label",{for:"hatchback"},"hatchback",-1),es={class:"inp d-flex align-items-center gap-2"},ss=e("label",{for:"sedan"},"sedan",-1),ts={class:"inp d-flex align-items-center gap-2"},as=e("label",{for:"4_by_4"},"4_by_4",-1),ls={class:"inp d-flex align-items-center gap-2"},os=e("label",{for:"family"},"family",-1),ns={class:"inp d-flex align-items-center gap-2"},is=e("label",{for:"commercial"},"commercial",-1),cs={class:"col-12 col-xl-8 col-lg-8 col-md-12"},ds={key:0},rs={class:"fw-bolder py-1"},us={key:1,class:"fw-bolder"},ps={class:"row justify-content-center"},_s={style:{cursor:"pointer"},class:"mainlatestbox col-xl-3 col-lg-3 col-md-5"},ms=["onClick"],hs=["src"],vs={style:{"font-size":"16px"}},gs={class:"text1"},fs={class:"price"},ys={style:{"font-size":"14px"}},bs={class:"after"},ks={style:{"font-size":"14px"}},xs={class:"detail"},ws=e("i",{class:"fa-solid fa-chevron-right"},null,-1),Cs=["onClick"],Ss=["onClick"],$s={key:2,class:"d-flex align-items-center justify-content-center"},Is=e("div",{class:"spinner-border text-center",style:{width:"5rem",height:"5rem"},role:"status"},[e("span",{class:"visually-hidden"},"Loading...")],-1),Os=[Is],Es={__name:"index",async setup(Ns){let $,U;const _=te(),F=ae(),O=_.query.id?_.query.id:null,P=_.query.type?_.query.type:null,E=_.query.model?_.query.model:null,M=_.query.name?_.query.name:null;let l=u(P||null);ne();let R=ie();const{locale:Q}=le();let f=u(Q),N=u(!0),W=([$,U]=ee(()=>H.get(`${R}/cars-filter-data`,{headers:{"Content-Language":`${f.value}`}})),$=await $,U(),$),T=u([]),y=u(E?[E]:[]),b=u([]),k=u(W.data);console.log(k.data);const p=u(O?[O]:[]);let x=u(k.value.minPrice),w=u(k.value.maxPrice);const X=()=>{{let a=document.querySelectorAll(".rangeGroups input");document.querySelector(".mainprocess span"),document.querySelectorAll(".inputs-groups .inp input"),a.forEach(t=>{t.addEventListener("input",s=>{let n=parseInt(a[0].value),r=parseInt(a[1].value);console.log(n,r),console.log(n/a[0].max*100+"%"),console.log(r/a[0].max*100+"%"),r-n<1e5?s.target.className==="range-min"?a[0].value=r-1e5:a[1].value=n+1e5:(x.value=n,w.value=r)})})}},J=(a,t)=>{const s={id:a,name:t};let n=f.value+"/car";F.push({path:`/${n}`,query:s})};let K=u([]),q=u("added to wishlist"),I=u("success"),V=u("removed from wishlist");f.value=="ar"?(q.value="تم الاضافة الي قائمة المفضلات",I.value="نجاح",V.value="تم الحذف من قائمة المفضلات"):f.value=="en"&&(q.value="added to wishlist",I.value="success",V.value="removed from wishlist");const Y=a=>{{let t=JSON.parse(sessionStorage.getItem("thefav"))?JSON.parse(sessionStorage.getItem("thefav")):[],s=t.filter(n=>n.id==a.id);if(console.log(s),a.is_in_favorite=!a.is_in_favorite,s.length<=1)if(t.push(a),a.is_in_favorite==!0)D({title:q.value,description:I.value},{timeout:5e3,toastBackgroundColor:"green",showIcon:"true",type:"success",transition:"bounce"}),sessionStorage.setItem("thefav",JSON.stringify(t));else{let n=t.filter(r=>r.id!=a.id);D({title:V.value,description:I.value},{timeout:5e3,toastBackgroundColor:"green",showIcon:"true",type:"success",transition:"bounce"}),K.value=[],sessionStorage.setItem("thefav",JSON.stringify(n)),n.length<1&&sessionStorage.removeItem("thefav")}}},j=async()=>{N.value=!0;let a=await H.get(`${R}/cars`,{params:{brands:p.value,min_price:x.value,max_price:w.value,models:y.value,sub_models:b.value,type:l.value?l.value:""},headers:{"Content-Language":`${f.value}`}});{let t=JSON.parse(sessionStorage.getItem("thefav"))?JSON.parse(sessionStorage.getItem("thefav")):[];if(console.log(t),t.length>=1)for(let s=0;s<t.length;s++)a.data.data[t[s].id-1].is_in_favorite=t[s].is_in_favorite}T.value=a.data.data,a.status==200&&(N.value=!1),console.log(a.data.data)},Z=()=>{p.value=[],x.value=x.value,w.value=w.value,y.value=[],b.value=[],l.value=""};return se(()=>{X(),j()}),oe({title:f.value=="ar"?`${M||"السيارات"}/الكثيري للسيارات`:`alkathiri motors / ${M||"cars"}`}),(a,t)=>(d(),i("div",null,[e("div",ce,[e("div",de,[e("div",re,[e("div",ue,[e("div",pe,[e("h5",null,c(a.$t("filter")),1),e("span",{onClick:t[0]||(t[0]=s=>Z())},c(a.$t("reset")),1)]),e("div",_e,[me,he,e("div",ve,[e("span",null,c(o(x))+" sar",1),e("span",null,c(o(w))+" sar",1)])]),e("div",ge,[e("div",fe,[e("h2",ye,[e("button",be,[e("span",ke,c(a.$t("cars")),1)])]),e("div",xe,[e("div",we,[e("div",Ce,[(d(!0),i(v,null,g(o(k).brands,(s,n)=>(d(),i("div",Se,[m(e("input",{id:`label${n}`,type:"checkbox",checked:o(O)==s.id,"onUpdate:modelValue":t[1]||(t[1]=r=>h(p)?p.value=r:null),value:s.id},null,8,$e),[[L,o(p)]]),e("label",{for:`label${n}`,class:"d-flex align-items-center gap-2"},[e("img",{src:s.image,alt:""},null,8,Oe),e("span",null,c(s.name),1)],8,Ie)]))),256))])])])]),e("div",Ne,[e("h2",qe,[e("button",Ve,[e("span",Le,c(a.$t("mark & model")),1)])]),o(p).length>=1?(d(),i("div",{key:0,id:"collapseOne",class:A(["accordion-collapse collapse",{show:a.index==0}]),"data-bs-parent":"#accordionExample"},[e("div",Ue,[e("div",Pe,[(d(!0),i(v,null,g(o(p),(s,n)=>(d(),i("div",Ee,[(d(!0),i(v,null,g(o(k).brands[s-1].parent_models,r=>(d(),i("div",null,[e("div",Me,[e("button",Re,[m(e("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=C=>h(y)?y.value=C:y=C),value:r.id},null,8,Te),[[L,o(y)]]),e("span",Je,c(r.name),1)])]),e("div",je,[e("div",ze,[e("div",Ae,[(d(!0),i(v,null,g(r.sub_models,C=>(d(),i("div",Be,[m(e("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=z=>h(b)?b.value=z:b=z),value:C.id},null,8,Ge),[[L,o(b)]]),e("span",null,c(C.name),1)]))),256))])])])]))),256))]))),256))])])],2)):(d(),i("div",He,c(a.$t("you have to choose a brand")),1))]),e("div",De,[e("h2",Fe,[e("button",Qe,[e("span",We,c(a.$t("car type")),1)])]),e("div",Xe,[e("div",Ke,[e("div",Ye,[m(e("input",{id:"hatchback",type:"radio","onUpdate:modelValue":t[4]||(t[4]=s=>h(l)?l.value=s:l=s),value:"hatchback"},null,512),[[S,o(l)]]),Ze]),e("div",es,[m(e("input",{id:"sedan",type:"radio","onUpdate:modelValue":t[5]||(t[5]=s=>h(l)?l.value=s:l=s),value:"sedan"},null,512),[[S,o(l)]]),ss]),e("div",ts,[m(e("input",{id:"4_by_4",type:"radio","onUpdate:modelValue":t[6]||(t[6]=s=>h(l)?l.value=s:l=s),value:"4_by_4"},null,512),[[S,o(l)]]),as]),e("div",ls,[m(e("input",{id:"family",type:"radio","onUpdate:modelValue":t[7]||(t[7]=s=>h(l)?l.value=s:l=s),value:"family"},null,512),[[S,o(l)]]),os]),e("div",ns,[m(e("input",{id:"commercial",type:"radio","onUpdate:modelValue":t[8]||(t[8]=s=>h(l)?l.value=s:l=s),value:"commercial"},null,512),[[S,o(l)]]),is])])])])]),e("button",{onClick:t[9]||(t[9]=s=>j()),class:"my-3"},c(a.$t("apply")),1)]),e("div",cs,[o(p).length>=1?(d(),i("div",ds,[o(p).length>=1?(d(!0),i(v,{key:0},g(o(p),(s,n)=>(d(),i("h2",rs,[(d(!0),i(v,null,g(o(k).brands[s-1].name,r=>(d(),i("span",null,c(r),1))),256)),G(", ")]))),256)):B("",!0)])):(d(),i("h2",us,c(a.$t("all cars")),1)),e("div",ps,[(d(!0),i(v,null,g(o(T),s=>(d(),i("div",_s,[e("div",{onClick:n=>J(s.id,s.name),class:"image"},[e("img",{src:s.main_image,alt:""},null,8,hs)],8,ms),e("h3",vs,c(s.name),1),e("div",gs,[e("div",fs,[e("span",null,c(a.$t("price")),1),e("h4",ys,c(s.selling_price)+" SAR",1)]),e("div",bs,[e("span",null,c(a.$t("after vat")),1),e("h4",ks,c(s.selling_price_after_vat)+" SAR",1)])]),e("p",xs,[G(c(a.$t("details"))+" ",1),ws]),e("div",{onClick:n=>J(s.id,s.name),class:"overlay"},null,8,Cs),e("i",{onClick:n=>Y(s),class:A(["fa-regular fa-heart fav",{"fa-solid":s.is_in_favorite}])},null,10,Ss)]))),256))]),o(N)?(d(),i("div",$s,Os)):B("",!0)])])])])]))}};export{Es as default};
