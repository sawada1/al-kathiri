import{_ as se}from"./nuxt-link.8a6ff735.js";import{a as u,Q as ae,m as le,L as n,M as e,N as i,u as o,F as f,R as g,U as D,V as m,W as $,j as h,O,x as oe,B as ne,z as c,X as E,P as ie}from"./swiper-vue.bc72199a.js";import{b as ce,c as de,u as re,a as ue}from"./entry.ab33c377.js";import{u as pe}from"./composables.7e979bb1.js";import{a as G,g as _e}from"./axios.78c6ffe3.js";import{t as H}from"./style.3a1cf634.js";const me={class:"brandCars",style:{"margin-top":"100px"}},he={class:"container p-2"},ve={class:"row p-2 gap-4"},fe={class:"col-12 col-xl-3 col-lg-3 col-md-12 d-flex flex-column align-items-center"},ge={class:"filter d-flex align-items-center justify-content-between w-100"},ye={class:"rangeSlider"},be=e("div",{class:"mainprocess"},[e("span")],-1),ke=e("div",{class:"rangeGroups"},[e("input",{type:"range",class:"range-min",min:"222000",max:"870000",value:"222000",step:"100"}),e("input",{type:"range",class:"range-max",min:"222000",max:"870000",value:"870000",step:"100"})],-1),xe={class:"inputs w-100 d-flex align-items-center justify-content-between"},we={class:"accordion",id:"accordionExample"},Ce={class:"accordion-item mainItem"},Se={class:"accordion-header"},$e={class:"accordion-button collapsed mainbtnacc",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapsecars","aria-expanded":"true","aria-controls":"collapseOne"},Ie={class:"theHead"},Ne={id:"collapsecars",class:"accordion-collapse collapse show","data-bs-parent":"#accordionExample"},Oe={class:"accordion-body"},qe={class:"checksCars"},Ve={class:"inp"},Le=["id","checked","value"],Ue=["for"],Pe=["src"],Be={class:"accordion-item mainItem"},Ee={class:"accordion-header"},Me={class:"accordion-button d-flex align-items-center gap-5 mainbtnacc",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"},Re={class:"theHead"},Te={class:"accordion-body"},je={class:"accordion",id:"accordionbranch1"},Je={class:"accordion-item mainbranch w-100"},ze={class:"accordion-header w-100"},Ae={class:"accordion-button d-flex align-items-center gap-3",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOnebranch1","aria-expanded":"true","aria-controls":"collapseOne"},Fe=["value"],De={style:{"white-space":"nowrap"}},Ge={id:"collapseOnebranch1",class:"accordion-collapse collapse show","data-bs-parent":"#accordionbranch1"},He={class:"accordion-body"},Qe={class:"checks d-flex flex-column gap-3"},We={class:"inp d-flex align-items-center gap-3 p-2"},Xe=["value"],Ke={key:1,class:"fw-bold text-center my-2"},Ye={class:"accordion-item mainItem"},Ze={class:"accordion-header"},et={class:"accordion-button collapsed mainbtnacc",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseThree","aria-expanded":"true","aria-controls":"collapseOne"},tt={class:"theHead"},st={id:"collapseThree",class:"accordion-collapse collapse","data-bs-parent":"#accordionExample"},at={class:"accordion-body d-flex flex-column gap-2"},lt={class:"inp d-flex align-items-center gap-2"},ot=e("label",{for:"hatchback"},"hatchback",-1),nt={class:"inp d-flex align-items-center gap-2"},it=e("label",{for:"sedan"},"sedan",-1),ct={class:"inp d-flex align-items-center gap-2"},dt=e("label",{for:"4_by_4"},"4_by_4",-1),rt={class:"inp d-flex align-items-center gap-2"},ut=e("label",{for:"family"},"family",-1),pt={class:"inp d-flex align-items-center gap-2"},_t=e("label",{for:"commercial"},"commercial",-1),mt={class:"col-12 col-xl-8 col-lg-8 col-md-12"},ht={key:0},vt={class:"fw-bolder py-1"},ft={key:1,class:"fw-bolder"},gt={class:"row justify-content-center"},yt=["onClick"],bt={class:"image"},kt=["src"],xt={style:{"font-size":"16px"}},wt={class:"text1"},Ct={class:"price"},St={style:{"font-size":"14px"}},$t={class:"after"},It={style:{"font-size":"14px"}},Nt={class:"detail"},Ot=e("i",{class:"fa-solid fa-chevron-right"},null,-1),qt=["onClick"],Vt=["onClick"],Lt={key:2,class:"d-flex align-items-center justify-content-center"},Ut=e("div",{class:"spinner-border text-center",style:{width:"5rem",height:"5rem"},role:"status"},[e("span",{class:"visually-hidden"},"Loading...")],-1),Pt=[Ut],Bt={key:3,class:"d-flex align-items-center mb-5 flex-column justify-content-center h-100"},Et={style:{color:"#1B395F"}},Mt={key:0,class:"mainLoader"},Rt=e("span",{class:"loader"},null,-1),Tt=[Rt],Ht={__name:"index",async setup(jt){let I,M;const _=ce(),Q=de(),q=_.query.id?_.query.id:null,R=_.query.type?_.query.type:null,T=_.query.model?_.query.model:null,V=_.query.name?_.query.name:null;let l=u(R||null);const W=pe();let j=_e();const{locale:X}=re();let y=u(X),L=u(!0),K=([I,M]=ae(()=>G.get(`${j}/cars-filter-data`,{headers:{"Content-Language":`${y.value}`}})),I=await I,M(),I),J=u([]),b=u(T?[T]:[]),k=u([]),x=u(K.data);console.log(x.data);const p=u(q?[q]:[]);let U=u(!1),w=u(x.value.minPrice),C=u(x.value.maxPrice);const Y=()=>{{let s=document.querySelectorAll(".rangeGroups input");document.querySelector(".mainprocess span"),document.querySelectorAll(".inputs-groups .inp input"),s.forEach(a=>{a.addEventListener("input",d=>{let t=parseInt(s[0].value),r=parseInt(s[1].value);console.log(t,r),console.log(t/s[0].max*100+"%"),console.log(r/s[0].max*100+"%"),r-t<1e5?d.target.className==="range-min"?s[0].value=r-1e5:s[1].value=t+1e5:(w.value=t,C.value=r)})})}},z=(s,a)=>{const d={id:s,name:a};let t=y.value+"/car";Q.push({path:`/${t}`,query:d})};let Z=u([]),P=u("added to wishlist"),N=u("success"),B=u("removed from wishlist");y.value=="ar"?(P.value="تم الاضافة الي قائمة المفضلات",N.value="نجاح",B.value="تم الحذف من قائمة المفضلات"):y.value=="en"&&(P.value="added to wishlist",N.value="success",B.value="removed from wishlist");const ee=s=>{{let a=JSON.parse(sessionStorage.getItem("thefav"))?JSON.parse(sessionStorage.getItem("thefav")):[],d=a.filter(t=>t.id==s.id);if(console.log(d),s.is_in_favorite=!s.is_in_favorite,d.length<=1)if(a.push(s),s.is_in_favorite==!0)H({title:P.value,description:N.value},{timeout:5e3,toastBackgroundColor:"green",showIcon:"true",type:"success",transition:"bounce"}),sessionStorage.setItem("thefav",JSON.stringify(a));else{let t=a.filter(r=>r.id!=s.id);H({title:B.value,description:N.value},{timeout:5e3,toastBackgroundColor:"green",showIcon:"true",type:"success",transition:"bounce"}),Z.value=[],sessionStorage.setItem("thefav",JSON.stringify(t)),t.length<1&&sessionStorage.removeItem("thefav")}}},A=async()=>{L.value=!0;let s=await G.get(`${j}/cars`,{params:{brands:p.value,min_price:w.value,max_price:C.value,models:b.value,name:V,sub_models:k.value,type:l.value?l.value:""},headers:{"Content-Language":`${y.value}`}});{let a=JSON.parse(sessionStorage.getItem("thefav"))?JSON.parse(sessionStorage.getItem("thefav")):[];if(a.length<=1)s.data.data.map(d=>d.id==a.map(t=>t.id)?d.is_in_favorite=!0:!1);else for(let d=0;d<s.data.data.length;d++)s.data.data[d].id==a[d].id&&(s.data.data[d].is_in_favorite=a[d].is_in_favorite)}J.value=s.data.data,s.status==200&&(L.value=!1,s.data.data.length<1?U.value=!0:U.value=!1)},te=()=>{p.value=[],w.value=w.value,C.value=C.value,b.value=[],k.value=[],l.value=""};return le(()=>{Y(),A()}),ue({title:y.value=="ar"?`${V||"السيارات"}/الكثيري للسيارات`:`alkathiri motors / ${V||"cars"}`}),(s,a)=>{const d=se;return c(),n("div",null,[e("div",me,[e("div",he,[e("div",ve,[e("div",fe,[e("div",ge,[e("h5",null,i(s.$t("filter")),1),e("span",{onClick:a[0]||(a[0]=t=>te())},i(s.$t("reset")),1)]),e("div",ye,[be,ke,e("div",xe,[e("span",null,i(o(w))+" sar",1),e("span",null,i(o(C))+" sar",1)])]),e("div",we,[e("div",Ce,[e("h2",Se,[e("button",$e,[e("span",Ie,i(s.$t("cars")),1)])]),e("div",Ne,[e("div",Oe,[e("div",qe,[(c(!0),n(f,null,g(o(x).brands,(t,r)=>(c(),n("div",Ve,[m(e("input",{id:`label${r}`,type:"checkbox",checked:o(q)==t.id,"onUpdate:modelValue":a[1]||(a[1]=v=>h(p)?p.value=v:null),value:t.id},null,8,Le),[[E,o(p)]]),e("label",{for:`label${r}`,class:"d-flex align-items-center gap-2"},[e("img",{src:t.image,alt:""},null,8,Pe),e("span",null,i(t.name),1)],8,Ue)]))),256))])])])]),e("div",Be,[e("h2",Ee,[e("button",Me,[e("span",Re,i(s.$t("mark & model")),1)])]),o(p).length>=1?(c(),n("div",{key:0,id:"collapseOne",class:D(["accordion-collapse collapse",{show:s.index==0}]),"data-bs-parent":"#accordionExample"},[e("div",Te,[e("div",je,[(c(!0),n(f,null,g(o(p),(t,r)=>(c(),n("div",Je,[(c(!0),n(f,null,g(o(x).brands[t-1].parent_models,v=>(c(),n("div",null,[e("div",ze,[e("button",Ae,[m(e("input",{type:"checkbox","onUpdate:modelValue":a[2]||(a[2]=S=>h(b)?b.value=S:b=S),value:v.id},null,8,Fe),[[E,o(b)]]),e("span",De,i(v.name),1)])]),e("div",Ge,[e("div",He,[e("div",Qe,[(c(!0),n(f,null,g(v.sub_models,S=>(c(),n("div",We,[m(e("input",{type:"checkbox","onUpdate:modelValue":a[3]||(a[3]=F=>h(k)?k.value=F:k=F),value:S.id},null,8,Xe),[[E,o(k)]]),e("span",null,i(S.name),1)]))),256))])])])]))),256))]))),256))])])],2)):(c(),n("div",Ke,i(s.$t("you have to choose a brand")),1))]),e("div",Ye,[e("h2",Ze,[e("button",et,[e("span",tt,i(s.$t("car type")),1)])]),e("div",st,[e("div",at,[e("div",lt,[m(e("input",{id:"hatchback",type:"radio","onUpdate:modelValue":a[4]||(a[4]=t=>h(l)?l.value=t:l=t),value:"hatchback"},null,512),[[$,o(l)]]),ot]),e("div",nt,[m(e("input",{id:"sedan",type:"radio","onUpdate:modelValue":a[5]||(a[5]=t=>h(l)?l.value=t:l=t),value:"sedan"},null,512),[[$,o(l)]]),it]),e("div",ct,[m(e("input",{id:"4_by_4",type:"radio","onUpdate:modelValue":a[6]||(a[6]=t=>h(l)?l.value=t:l=t),value:"4_by_4"},null,512),[[$,o(l)]]),dt]),e("div",rt,[m(e("input",{id:"family",type:"radio","onUpdate:modelValue":a[7]||(a[7]=t=>h(l)?l.value=t:l=t),value:"family"},null,512),[[$,o(l)]]),ut]),e("div",pt,[m(e("input",{id:"commercial",type:"radio","onUpdate:modelValue":a[8]||(a[8]=t=>h(l)?l.value=t:l=t),value:"commercial"},null,512),[[$,o(l)]]),_t])])])])]),e("button",{onClick:a[9]||(a[9]=t=>A()),class:"my-3"},i(s.$t("apply")),1)]),e("div",mt,[o(p).length>=1?(c(),n("div",ht,[o(p).length>=1?(c(!0),n(f,{key:0},g(o(p),(t,r)=>(c(),n("h2",vt,[(c(!0),n(f,null,g(o(x).brands[t-1].name,v=>(c(),n("span",null,i(v),1))),256))]))),256)):O("",!0)])):(c(),n("h2",ft,i(s.$t("all cars")),1)),e("div",gt,[(c(!0),n(f,null,g(o(J),t=>(c(),n("div",{style:{cursor:"pointer"},onClick:r=>z(t.id,t.name),class:"mainlatestbox col-xl-3 col-lg-3 col-md-5"},[e("div",bt,[e("img",{src:t.main_image,alt:""},null,8,kt)]),e("h3",xt,i(t.name),1),e("div",wt,[e("div",Ct,[e("span",null,i(s.$t("price")),1),e("h4",St,i(t.selling_price)+" SAR",1)]),e("div",$t,[e("span",null,i(s.$t("after vat")),1),e("h4",It,i(t.selling_price_after_vat)+" SAR",1)])]),e("p",Nt,[ie(i(s.$t("details"))+" ",1),Ot]),e("div",{onClick:r=>z(t.id,t.name),class:"overlay"},null,8,qt),e("i",{onClick:r=>ee(t),class:D(["fa-regular fa-heart fav",{"fa-solid":t.is_in_favorite}])},null,10,Vt)],8,yt))),256))]),o(L)?(c(),n("div",Lt,Pt)):O("",!0),o(U)?(c(),n("div",Bt,[e("h3",null,i(s.$t("there is no data")),1),oe(d,{to:o(W)("/notFound")},{default:ne(()=>[e("span",Et,i(s.$t("Click to request a car that is not available")),1)]),_:1},8,["to"])])):O("",!0)])])])]),s.pending?(c(),n("div",Mt,Tt)):O("",!0)])}}};export{Ht as default};
