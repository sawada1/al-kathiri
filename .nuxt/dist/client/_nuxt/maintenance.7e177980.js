import{_ as G,a as Z}from"./privacyModal.8072423d.js";import{u as j,c as ee,a as te}from"./entry.ab33c377.js";import{a as r,m as ae,L as i,M as a,N as s,a3 as le,V as m,a2 as h,u as t,O as u,a4 as $,F as f,R as b,X as se,P as W,x as Y,z as d,j as oe,U as ne}from"./swiper-vue.bc72199a.js";import{a as F,g as re}from"./axios.78c6ffe3.js";const ie={class:"container textBooked",style:{"margin-top":"150px"}},de=["data-app"],ue=a("p",null," Lorem ipsum dolor sit amet consectetur adipisicing elit. Quos laboriosam asperiores, iusto modi sapiente ut beatae qui! Quos aspernatur accusantium vel, perferendis enim ipsam praesentium corporis ab quam eius. Quaerat. Lorem ipsum dolor sit amet consectetur adipisicing elit. Quos laboriosam asperiores, iusto modi sapiente ut beatae qui! Quos aspernatur accusantium vel, perferendis enim ipsam praesentium corporis ab quam eius. Quaerat. ",-1),ce={class:"container maintenance"},me={class:"row gap-4 justify-content-around"},pe={class:"col-12 col-xl-7 col-lg-7 col-md-6"},_e={class:"inp"},ve={for:""},ye=["placeholder"],he={key:0,class:"errorMessage text-danger fw-bold"},fe={class:"inp"},be={for:""},ge={key:0,class:"errorMessage text-danger fw-bold"},ke={class:"inp"},$e={for:""},xe={key:0,class:"errorMessage text-danger fw-bold"},Me={class:"inp"},we={for:""},Ee={key:0,class:"errorMessage text-danger fw-bold"},Oe={class:"inp"},Ne={for:""},Te={value:null,disabled:""},Ve=["value"],Ue={key:0,class:"errorMessage text-danger fw-bold"},Ce={class:"inp"},De={for:""},Pe={value:null,disabled:""},Se=["value"],Ae={key:0,class:"errorMessage text-danger fw-bold"},Be={class:"inp"},Le={for:""},qe={class:"d-flex gap-3"},Ie={class:"d-flex flex-column w-50"},Qe={value:null,disabled:""},Re=["value"],We={key:0,class:"errorMessage text-danger fw-bold"},Ye={class:"d-flex flex-column w-50"},Fe={value:null,disabled:""},ze=["value"],He={key:0,class:"errorMessage text-danger fw-bold"},Ke={class:"inp"},Je={for:""},Xe=["placeholder"],Ge={key:0,class:"errorMessage text-danger fw-bold"},Ze={class:"col-12 col-xl-4 col-lg-4 col-md-4 d-flex align-items-center gap-5 flex-column"},je=a("div",{id:"inline_cal"},null,-1),et={class:"time"},tt={class:"d-flex align-items-center justify-content-center"},at={key:0,class:"spinner-border",role:"status"},lt={class:"timesec"},st=["onClick"],ot={key:0,class:"errorMessage text-danger fw-bold"},nt={class:"check d-flex align-items-center gap-3"},rt={for:"checkTerms"},it={type:"button","data-bs-toggle":"modal","data-bs-target":"#termsModal"},dt={type:"button","data-bs-toggle":"modal","data-bs-target":"#privacyModal"},ut={key:1,class:"errorMessage text-danger fw-bold"},ct=["disabled"],mt={key:0,class:"spinner-border text-light",role:"status"},pt={key:0,class:"mainLoader"},_t=a("span",{class:"loader"},null,-1),vt=[_t],$t={__name:"maintenance",setup(yt){const{locale:z}=j();let p=r(null),g=r(1),I=r(!0),x=r(!0),k=r(z);const H=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];let Q=r([]);const K=ee(),M=re();let w=r([]),E=r([]),O=r([]),N=r([]);(async()=>{x.value=!0;let e=await F.get(`${M}/make-appointment-form-data`,{headers:{"Content-Language":`${k.value}`}});e.status==200&&(x.value=!1),console.log(e.data),w.value=e.data.brands,E.value=e.data.cities,O.value=e.data.days_of,(()=>{for(let c=0;c<O.value.length;c++)Q.value.push(H.indexOf(O.value[c]))})();function y(c){return!Q.value.includes(c.getDay())}{rome(inline_cal,{time:!1,min:e.data.start_date,max:e.data.end_date,dateValidator:y});let c=null;document.querySelectorAll(".rd-day-body").forEach(_=>{_.addEventListener("click",()=>{setTimeout(async()=>{if(p.value=rome(inline_cal).getDateString(),console.log(p.value),c!=p.value){c=p.value;let R=await F.get(`${M}/time-slots?date=${p.value}`,{headers:{"Content-Language":`${k.value}`}});N.value=R.data,console.log(N.value),o.value.date=p.value,I.value=!1}},100)})}),document.querySelector(".rd-day-body.rd-day-selected").click()}})(),r([]),r(null);let o=r({name:null,phone:null,branch_id:null,brand_id:null,city_id:null,model_id:null,model_year:2023,date:null,description:null,email:null,time:null,terms_and_privacy:null}),T=r(null),V=r(null),U=r(null),C=r(null),D=r(null),P=r(null),J=r(null),S=r(null),A=r(null),B=r(null),L=r(null),q=r(null),v=r(!1);const X=async()=>{v.value=!0,fetch(`${M}/make-appointment`,{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o.value)}).then(e=>e.json()).then(e=>{if(v.value=!1,console.log(e),e.message)T.value=e.errors.phone==null?null:e.errors.phone[0],V.value=e.errors.name==null?null:e.errors.name[0],A.value=e.errors.email==null?null:e.errors.email[0],U.value=e.errors.branch_id==null?null:e.errors.branch_id[0],C.value=e.errors.brand_id==null?null:e.errors.brand_id[0],D.value=e.errors.city_id==null?null:e.errors.city_id[0],P.value=e.errors.model_id==null?null:e.errors.model_id[0],J.value=e.errors.date==null?null:e.errors.date[0],S.value=e.errors.description==null?null:e.errors.description[0],B.value=e.errors.time==null?null:e.errors.time[0],L.value=e.errors.terms_and_privacy==null?null:e.errors.terms_and_privacy[0],q.value=e.errors.model_year==null?null:e.errors.model_year[0];else{const n={id:e.id,date:e.date,time:e.time,branch:e.branch,city:e.city},y=k.value+"/booked";K.push({path:`/${y}`,query:n}),v.value=!1}})};return te({title:k.value=="ar"?"احجز موعد صيانتك / الكثيري للسيارات":"alkathiri motors / BOOK YOUR MAINTENANCE APPOINTMENT"}),ae(async()=>{}),(e,n)=>{const y=G,c=Z;return d(),i("div",null,[a("div",ie,[a("h3",{"data-app":e.$t("HAPPY TO HELP YOU")},s(e.$t("BOOK YOUR MAINTENANCE APPOINTMENT")),9,de),ue]),a("div",ce,[a("div",me,[a("div",pe,[a("form",{action:"",onSubmit:n[9]||(n[9]=le(()=>{},["prevent"]))},[a("div",_e,[a("label",ve,s(e.$t("full name")),1),m(a("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=l=>t(o).name=l),placeholder:e.$t("write your name..")},null,8,ye),[[h,t(o).name]]),t(V)?(d(),i("span",he,s(t(V)),1)):u("",!0)]),a("div",fe,[a("label",be,s(e.$t("email")),1),m(a("input",{type:"email","onUpdate:modelValue":n[1]||(n[1]=l=>t(o).email=l),placeholder:"example@mail.com.."},null,512),[[h,t(o).email]]),t(A)?(d(),i("span",ge,s(t(A)),1)):u("",!0)]),a("div",ke,[a("label",$e,s(e.$t("phone number")),1),m(a("input",{type:"text","onUpdate:modelValue":n[2]||(n[2]=l=>t(o).phone=l),placeholder:"05xxxxxxxx....."},null,512),[[h,t(o).phone]]),t(T)?(d(),i("span",xe,s(t(T)),1)):u("",!0)]),a("div",Me,[a("label",we,s(e.$t("What is your car’s model year?")),1),m(a("input",{type:"number","onUpdate:modelValue":n[3]||(n[3]=l=>t(o).model_year=l),min:"1900",max:"2100",step:"1"},null,512),[[h,t(o).model_year]]),t(q)?(d(),i("span",Ee,s(t(q)),1)):u("",!0)]),a("div",Oe,[a("label",Ne,s(e.$t("What is your car’s Brand?")),1),m(a("select",{name:"",id:"","onUpdate:modelValue":n[4]||(n[4]=l=>t(o).brand_id=l)},[a("option",Te,s(e.$t("Select Brand...")),1),(d(!0),i(f,null,b(t(w),l=>(d(),i("option",{value:l.id},s(l.name),9,Ve))),256))],512),[[$,t(o).brand_id]]),t(C)?(d(),i("span",Ue,s(t(C)),1)):u("",!0)]),a("div",Ce,[a("label",De,s(e.$t("Which car model are you booking for?")),1),m(a("select",{name:"",id:"","onUpdate:modelValue":n[5]||(n[5]=l=>t(o).model_id=l)},[a("option",Pe,s(e.$t("Select Model...")),1),t(o).brand_id?(d(!0),i(f,{key:0},b(t(w)[t(o).brand_id-1].models,(l,_)=>(d(),i("option",{value:l.id},s(l.name),9,Se))),256)):u("",!0)],512),[[$,t(o).model_id]]),t(P)?(d(),i("span",Ae,s(t(P)),1)):u("",!0)]),a("div",Be,[a("label",Le,s(e.$t("Choose a city and branch for your service")),1),a("div",qe,[a("div",Ie,[m(a("select",{name:"",id:"",class:"w-100","onUpdate:modelValue":n[6]||(n[6]=l=>t(o).city_id=l)},[a("option",Qe,s(e.$t("Select city...")),1),(d(!0),i(f,null,b(t(E),l=>(d(),i("option",{value:l.id},s(l.name),9,Re))),256))],512),[[$,t(o).city_id]]),t(D)?(d(),i("span",We,s(t(D)),1)):u("",!0)]),a("div",Ye,[m(a("select",{name:"",id:"",class:"w-100","onUpdate:modelValue":n[7]||(n[7]=l=>t(o).branch_id=l)},[a("option",Fe,s(e.$t("Select branch...")),1),t(o).city_id?(d(!0),i(f,{key:0},b(t(E)[t(o).city_id-1].branches,l=>(d(),i("option",{value:l.id},s(l.name),9,ze))),256)):u("",!0)],512),[[$,t(o).branch_id]]),t(U)?(d(),i("span",He,s(t(U)),1)):u("",!0)])])]),a("div",Ke,[a("label",Je,s(e.$t("Please add any extra information about your appointment request")),1),m(a("textarea",{style:{resize:"none"},"onUpdate:modelValue":n[8]||(n[8]=l=>t(o).description=l),rows:"",cols:"",placeholder:e.$t("write your message here")},null,8,Xe),[[h,t(o).description]]),t(S)?(d(),i("span",Ge,s(t(S)),1)):u("",!0)])],32)]),a("div",Ze,[je,a("div",et,[a("h3",null,s(e.$t("time")),1),a("div",tt,[t(I)?(d(),i("div",at)):u("",!0)]),a("div",lt,[(d(!0),i(f,null,b(t(N),(l,_)=>(d(),i("span",{onClick:R=>(oe(g)?g.value=_+1:g=_+1,l.available?t(o).time=l.value:null),class:ne({disabled:l.available==!1,choose:t(g)==_+1})},s(l.time),11,st))),256))])]),t(B)?(d(),i("span",ot,s(t(B)),1)):u("",!0),a("div",nt,[m(a("input",{id:"checkTerms",type:"checkbox",value:"1","onUpdate:modelValue":n[10]||(n[10]=l=>t(o).terms_and_privacy=l)},null,512),[[se,t(o).terms_and_privacy]]),a("label",rt,[W(s(e.$t("I have read and unconditionally agree to the"))+" ",1),a("span",it,s(e.$t("Term And Conditions")),1),W(" "+s(e.$t("and"))+" ",1),a("span",dt,s(e.$t("Privacy Policy")),1)])]),t(L)?(d(),i("span",ut,s(t(L)),1)):u("",!0),a("button",{disabled:t(v),onClick:n[11]||(n[11]=l=>X()),class:"w-100 d-flex align-items-center justify-content-center gap-4"},[a("span",null,s(e.$t("submit")),1),t(v)?(d(),i("div",mt)):u("",!0)],8,ct)])])]),t(x)?(d(),i("div",pt,vt)):u("",!0),Y(y),Y(c)])}}};export{$t as default};
