import{_ as N}from"./client-only.b401b6e1.js";import{u as L,b as B,c as J,a as R}from"./entry.ab33c377.js";import{a as T,g as F}from"./axios.78c6ffe3.js";import{t as y}from"./style.3a1cf634.js";import{a as n,L as d,u as r,M as e,N as o,x as V,B as x,F as M,R as q,O as C,z as u,P as H,U as P}from"./swiper-vue.bc72199a.js";const b={key:0,class:"theOffer",style:{"margin-top":"150px"}},z={class:"container"},A={class:"containe px-3"},G=["src","alt"],U={class:"my-3 fw-bolder thehead"},j=["innerHTML"],D={class:"includedOffers"},E={class:"fw-bolder pt-3 thehead"},K={class:"row justify-content-center gap-1"},Q=["onClick"],W={class:"image"},X=["src","alt"],Y={class:"text1"},Z={class:"price"},ee={class:"after"},te={class:"detail"},se=e("i",{class:"fa-solid fa-chevron-right"},null,-1),ae=["onClick"],ie=["onClick"],oe={key:1,class:"mainLoader"},le=e("span",{class:"loader"},null,-1),ne=[le],he={__name:"offer",setup(re){const{locale:S}=L();let c=n(S);const k=B(),$=J();let w=k.query.id,I=F(),_=n(!1),l=n([]),g=n([]),h=n("added to wishlist"),f=n("success"),m=n("removed from wishlist");c.value=="ar"?(h.value="تم الاضافة الي قائمة المفضلات",f.value="نجاح",m.value="تم الحذف من قائمة المفضلات"):c.value=="en"&&(h.value="added to wishlist",f.value="success",m.value="removed from wishlist");const O=t=>{{let i=JSON.parse(sessionStorage.getItem("thefav"))?JSON.parse(sessionStorage.getItem("thefav")):[],a=i.filter(s=>s.id==t.id);if(console.log(a),t.is_in_favorite=!t.is_in_favorite,a.length<=1)if(i.push(t),t.is_in_favorite==!0)y({title:h.value,description:f.value},{timeout:5e3,toastBackgroundColor:"green",showIcon:"true",type:"success",transition:"bounce"}),sessionStorage.setItem("thefav",JSON.stringify(i));else{let s=i.filter(v=>v.id!=t.id);y({title:m.value,description:f.value},{timeout:5e3,toastBackgroundColor:"green",showIcon:"true",type:"success",transition:"bounce"}),sessionStorage.setItem("thefav",JSON.stringify(s)),s.length<1&&sessionStorage.removeItem("thefav")}}};(async()=>{_.value=!0;let t=await T.get(`${I}/offers/${w}`,{headers:{"Content-Language":`${c.value}`}});t.status==200&&(_.value=!1),l.value=t.data.offer;{let i=JSON.parse(sessionStorage.getItem("thefav"))?JSON.parse(sessionStorage.getItem("thefav")):[];if(console.log(i),i.length<=1)t.data.offer_cars.map(a=>a.id==i.map(s=>s.id)?a.is_in_favorite=!0:!1);else for(let a=0;a<t.data.offer_cars.length;a++)t.offer_cars.data[a].id==i[a].id&&(t.data.offer_cars[a].is_in_favorite=i[a].is_in_favorite)}g.value=t.data.offer_cars,R({title:c.value=="ar"?`${l.value.title}/الكثيري للسيارات`:`alkathiri motors / ${l.value.title}`})})();const p=(t,i)=>{const a={id:t,name:i},s=c.value+"/car";$.push({path:`/${s}`,query:a})};return(t,i)=>{const a=N;return u(),d("div",null,[r(_)?C("",!0):(u(),d("div",b,[e("div",z,[e("div",A,[e("img",{src:r(l).image,class:"w-100",alt:r(l).title},null,8,G),e("h3",U,o(r(l).title),1),V(a,null,{default:x(()=>[e("p",{innerHTML:r(l).description},null,8,j)]),_:1})]),e("div",D,[e("h3",E,o(t.$t("Vehicles Included In The Offer")),1),e("div",K,[(u(!0),d(M,null,q(r(g),s=>(u(),d("div",{onClick:v=>p(s.id,s.name),style:{cursor:"pointer"},class:"mainlatestbox col-xl-2 col-lg-2 col-md-4"},[e("div",W,[e("img",{src:s.main_image,alt:s.name},null,8,X)]),e("h3",null,o(s.name),1),e("div",Y,[e("div",Z,[e("span",null,o(t.$t("price")),1),e("h4",null,o(s.selling_price)+" SAR",1)]),e("div",ee,[e("span",null,o(t.$t("after vat")),1),e("h4",null,o(s.selling_price_after_vat)+" SAR",1)])]),e("span",te,[H(o(t.$t("details"))+" ",1),se]),e("div",{onClick:v=>p(s.id,s.name),class:"overlay"},null,8,ae),e("i",{onClick:v=>O(s),class:P(["fa-regular fa-heart fav",{"fa-solid":s.is_in_favorite}])},null,10,ie)],8,Q))),256))])])])])),r(_)?(u(),d("div",oe,ne)):C("",!0)])}}};export{he as default};
