import{_ as q}from"./nuxt-link.8a6ff735.js";import{u as I,c as P,b as A,a as H}from"./entry.ab33c377.js";import{a as n,e as j,L as o,M as e,N as a,V as k,a2 as w,u as s,j as _,P as D,F as J,R,O as d,z as r,U as G,a3 as K,x as T,B}from"./swiper-vue.bc72199a.js";import{a as Q,g as W}from"./axios.78c6ffe3.js";const X={class:"container career",style:{"margin-top":"150px"}},Y=["data-find"],Z={class:"row gap-2 justify-content-center"},ee={class:"col-12 col-xl-4 col-lg-4 col-md-4 d-flex flex-column gap-3"},le={class:"inpsearch d-flex align-items-center justify-content-between"},te=e("i",{class:"fa-solid fa-magnifying-glass"},null,-1),se={class:"numjobs"},ae={class:"jobs d-flex flex-column gap-3"},ne=["onClick"],oe={class:"det"},re=e("i",{class:"fa-solid fa-chevron-right"},null,-1),ie={class:"col-12 col-xl-7 col-lg-7 col-md-7 my-5"},ue={key:0},de=e("i",{class:"fa-solid fa-chevron-left"},null,-1),ce={class:"inp"},pe={for:""},me=["placeholder"],_e={key:0,class:"errorMessage text-danger fw-bold"},he={class:"inp"},fe={for:""},ve={key:0,class:"errorMessage text-danger fw-bold"},ge={class:"inp"},ye={for:""},be={key:0,class:"errorMessage text-danger fw-bold"},xe={class:"inp"},$e={for:""},ke={key:0,class:"errorMessage text-danger fw-bold"},we={class:"inp"},Ce={for:""},Ve=["placeholder"],Me=["disabled"],Ue={key:0,class:"spinner-border text-light",role:"status"},Ee={key:0,class:"mainLoader"},Fe=e("span",{class:"loader"},null,-1),Ne=[Fe],ze={__name:"career",setup(De){const{locale:L}=I(),O=P(),M=A();let U=W(),C=n(L),V=n(!1),p=n(null);const E=M.query.id?M.query.id:null;let m=n(E),c=n([]);(async()=>{V.value=!0;const t=await Q.get(`${U}/careers`,{headers:{"Content-Language":`${C.value}`}});t.status==200&&(V.value=!1),c.value=t.data.data,console.log(c.value)})(),j(()=>c.value.filter(t=>t.title==p.value));const F=n(null),h=n(null),f=n(null),v=n("");let g=n(null),y=n(null),b=n(null),x=n(null),$=n(!1);const z=t=>{var l=t.target.files||t.dataTransfer.files;l.length&&(F.value=l[0])},S=async()=>{let t=new FormData;t.append("name",v.value),t.append("email",f.value),t.append("phone",h.value),t.append("cv",F.value),console.log(t),$.value=!0,await fetch(`${U}/careers/${E}/apply`,{method:"POST",headers:{},body:t}).then(l=>l.json()).then(l=>{console.log(l),$.value=!1,l.message?(g.value=l.errors.email==null?null:l.errors.email[0],b.value=l.errors.name==null?null:l.errors.name[0],y.value=l.errors.phone==null?null:l.errors.phone[0],x.value=l.errors.cv==null?null:l.errors.cv[0]):(g.value=null,b.value=null,y.value=null,x.value=null,O.push(`/${C.value}/submited`))})};return H({title:C.value=="ar"?" وظائف/الكثيري للسيارات":"alkathiri motors / careers"}),(t,l)=>{const N=q;return r(),o("div",null,[e("div",X,[e("h3",{"data-find":t.$t("JOIN OUR TEAM")},a(t.$t("find your career")),9,Y),e("div",Z,[e("div",ee,[e("div",le,[k(e("input",{type:"search","onUpdate:modelValue":l[0]||(l[0]=u=>_(p)?p.value=u:p=u),placeholder:"Job title or key..."},null,512),[[w,s(p)]]),te]),e("p",se,[e("span",null,a(s(c).length),1),D(" "+a(t.$t("open opportunities")),1)]),e("div",ae,[(r(!0),o(J,null,R(s(c),(u,i)=>(r(),o("div",{style:{cursor:"pointer"},class:G(["job d-flex align-items-center justify-content-between",{active:s(m)==i+1}]),onClick:Re=>_(m)?m.value=i+1:m=i+1},[e("div",oe,[e("h6",null,a(u.title),1),e("span",null,a(u.address)+" | "+a(u.created_at),1)]),re],10,ne))),256))])]),e("div",ie,[(r(!0),o(J,null,R(s(c),u=>(r(),o("div",null,[s(m)==u.id?(r(),o("div",ue,[e("form",{action:"",onSubmit:l[5]||(l[5]=K(()=>{},["prevent"]))},[T(N,{to:"/careers"},{default:B(()=>[e("h5",null,[de,D(" "+a(u.title),1)])]),_:2},1024),e("div",ce,[e("label",pe,a(t.$t("full name")),1),k(e("input",{"onUpdate:modelValue":l[1]||(l[1]=i=>_(v)?v.value=i:null),type:"text",placeholder:t.$t("write your name..")},null,8,me),[[w,s(v)]]),s(b)?(r(),o("span",_e,a(s(b)),1)):d("",!0)]),e("div",he,[e("label",fe,a(t.$t("email")),1),k(e("input",{"onUpdate:modelValue":l[2]||(l[2]=i=>_(f)?f.value=i:null),type:"email",placeholder:"example@mail.com..."},null,512),[[w,s(f)]]),s(g)?(r(),o("span",ve,a(s(g)),1)):d("",!0)]),e("div",ge,[e("label",ye,a(t.$t("phone number")),1),k(e("input",{"onUpdate:modelValue":l[3]||(l[3]=i=>_(h)?h.value=i:null),type:"text",placeholder:"05xxxxxxxx..."},null,512),[[w,s(h)]]),s(y)?(r(),o("span",be,a(s(y)),1)):d("",!0)]),e("div",xe,[e("label",$e,a(t.$t("resume")),1),e("input",{onChange:z,type:"file",name:""},null,32),s(x)?(r(),o("span",ke,a(s(x)),1)):d("",!0)]),e("div",we,[e("label",Ce,a(t.$t("Do you have any comments ?")),1),e("textarea",{style:{resize:"none"},placeholder:t.$t("write your message here"),name:"",cols:"10",rows:"5"},null,8,Ve)]),e("div",null,[T(N,null,{default:B(()=>[e("button",{class:"d-flex align-items-center gap-3",disabled:s($),onClick:l[4]||(l[4]=i=>S())},[e("span",null,a(t.$t("send application")),1),s($)?(r(),o("div",Ue)):d("",!0)],8,Me)]),_:1})])],32)])):d("",!0)]))),256))])])]),s(V)?(r(),o("div",Ee,Ne)):d("",!0)])}}};export{ze as default};
