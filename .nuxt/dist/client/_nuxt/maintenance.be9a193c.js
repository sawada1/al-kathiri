import{_ as Z,a as j}from"./privacyModal.983178ea.js";import{u as ee,c as te,a as ae}from"./entry.a1676f38.js";import{a as d,Q as se,m as le,L as r,M as a,N as o,a2 as oe,V as c,a3 as v,u as t,O as u,a5 as w,F as f,R as h,X as ne,P as z,x as F,z as i,j as re,U as ie}from"./swiper-vue.eb1e8a16.js";import{u as de}from"./fetch.d5223395.js";import{g as ue}from"./url.f2316853.js";import{a as ce}from"./axios.4a70c6fc.js";const me={class:"container textBooked"},pe=["data-app"],_e=a("p",null," Lorem ipsum dolor sit amet consectetur adipisicing elit. Quos laboriosam asperiores, iusto modi sapiente ut beatae qui! Quos aspernatur accusantium vel, perferendis enim ipsam praesentium corporis ab quam eius. Quaerat. Lorem ipsum dolor sit amet consectetur adipisicing elit. Quos laboriosam asperiores, iusto modi sapiente ut beatae qui! Quos aspernatur accusantium vel, perferendis enim ipsam praesentium corporis ab quam eius. Quaerat. ",-1),ye={class:"container maintenance"},ve={class:"row gap-4 justify-content-around"},fe={class:"col-12 col-xl-7 col-lg-7 col-md-6"},he={class:"inp"},be={for:""},ge=["placeholder"],ke={key:0,class:"errorMessage text-danger fw-bold fs-5 my-2"},$e={class:"inp"},Me={for:""},we={key:0,class:"errorMessage text-danger fw-bold fs-5 my-2"},xe={class:"inp"},Ee={for:""},Oe={key:0,class:"errorMessage text-danger fw-bold fs-5 my-2"},Ne={class:"inp"},Te={for:""},Ue={key:0,class:"errorMessage text-danger fw-bold fs-5 my-2"},Ve={class:"inp"},Se={for:""},Ae={value:null,disabled:""},Ce=["value"],Pe={key:0,class:"errorMessage text-danger fw-bold fs-5 my-2"},Be={class:"inp"},De={for:""},qe={value:null,disabled:""},Le=["value"],Qe={key:0,class:"errorMessage text-danger fw-bold fs-5 my-2"},Ie={class:"inp"},Re={for:""},Ye={class:"d-flex gap-3"},ze={class:"d-flex flex-column w-50"},Fe={value:null,disabled:""},We=["value"],He={key:0,class:"errorMessage text-danger fw-bold fs-5 my-2"},Ke={class:"d-flex flex-column w-50"},Je={value:null,disabled:""},Xe=["value"],Ge={key:0,class:"errorMessage text-danger fw-bold fs-5 my-2"},Ze={class:"inp"},je={for:""},et=["placeholder"],tt={key:0,class:"errorMessage text-danger fw-bold fs-5 my-2"},at={class:"col-12 col-xl-4 col-lg-4 col-md-4 d-flex align-items-center gap-5 flex-column"},st=a("div",{id:"inline_cal"},null,-1),lt={class:"time"},ot={class:"d-flex align-items-center justify-content-center"},nt={key:0,class:"spinner-border",role:"status"},rt={class:"timesec"},it=["onClick"],dt={key:0,class:"errorMessage text-danger fw-bold fs-5 my-2"},ut={class:"check d-flex align-items-center gap-3"},ct={for:"checkTerms"},mt={type:"button","data-bs-toggle":"modal","data-bs-target":"#termsModal"},pt={type:"button","data-bs-toggle":"modal","data-bs-target":"#privacyModal"},_t={key:1,class:"errorMessage text-danger fw-bold fs-5 my-2"},yt=["disabled"],vt={key:0,class:"spinner-border text-light",role:"status"},Et={__name:"maintenance",async setup(ft){let b,L;const{locale:W}=ee();let _=d(null),g=d(1),Q=d(!0),I=d(W);const H=te(),x=ue();let k=([b,L]=se(()=>ce.get(`${x}/make-appointment-form-data`)),b=await b,L(),b);console.log(k.data);let R=d(k.data.brands),$=d(k.data.cities),Y=d(k.data.days_of);const K=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];let E=d([]);(()=>{for(let e=0;e<Y.value.length;e++)E.value.push(K.indexOf(Y.value[e]))})(),console.log(E.value);let O=d([]);const J=()=>{{rome(inline_cal,{time:!1,dateValidator:function(m){return!E.value.includes(moment(m).day())}});let e=null;document.querySelectorAll(".rd-day-body").forEach(m=>{m.addEventListener("click",()=>{setTimeout(async()=>{if(_.value=rome(inline_cal).getDateString(),e!=_.value){e=_.value;let{data:y}=await de(`${x}/time-slots?date=${_.value}`,"$vMFbBUMewa");O.value=y.value,console.log(O.value),l.value.date=_.value,Q.value=!1}},100)})}),document.querySelector(".rd-day-body.rd-day-selected").click()}};let l=d({name:null,phone:null,branch_id:null,brand_id:null,city_id:null,model_id:null,model_year:2023,date:null,description:null,email:null,time:null,terms_and_privacy:null}),N=d(null),T=d(null),U=d(null),V=d(null),S=d(null),A=d(null),X=d(null),C=d(null),P=d(null),B=d(null),D=d(null),q=d(null),p=d(!1);const G=async()=>{p.value=!0,fetch(`${x}/make-appointment`,{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(l.value)}).then(e=>e.json()).then(e=>{if(p.value=!1,console.log(e),e.message)N.value=e.errors.phone==null?null:e.errors.phone[0],T.value=e.errors.name==null?null:e.errors.name[0],P.value=e.errors.email==null?null:e.errors.email[0],U.value=e.errors.branch_id==null?null:e.errors.branch_id[0],V.value=e.errors.brand_id==null?null:e.errors.brand_id[0],S.value=e.errors.city_id==null?null:e.errors.city_id[0],A.value=e.errors.model_id==null?null:e.errors.model_id[0],X.value=e.errors.date==null?null:e.errors.date[0],C.value=e.errors.description==null?null:e.errors.description[0],B.value=e.errors.time==null?null:e.errors.time[0],D.value=e.errors.terms_and_privacy==null?null:e.errors.terms_and_privacy[0],q.value=e.errors.model_year==null?null:e.errors.model_year[0];else{Swal.fire("success",`${e}`,"success");let n=$.value[l.value.city_id-1].name,m=$.value[l.value.city_id-1].branches[l.value.city_id-1].name;const y={id:l.value.brand_id,date:l.value.date,time:l.value.time,branch:m,city:n},s=I.value+"/booked";H.push({path:`/${s}`,query:y}),p.value=!1,console.log(l.value),p.value=!1,console.log(l.value)}})};return ae({title:I.value=="ar"?"احجز موعد صيانتك / الكثيري للسيارات":"alkathiri motors / BOOK YOUR MAINTENANCE APPOINTMENT",meta:[{name:"description",content:"My amazing site."}]}),le(async()=>{J()}),(e,n)=>{const m=Z,y=j;return i(),r("div",null,[a("div",me,[a("h3",{"data-app":e.$t("HAPPY TO HELP YOU")},o(e.$t("BOOK YOUR MAINTENANCE APPOINTMENT")),9,pe),_e]),a("div",ye,[a("div",ve,[a("div",fe,[a("form",{action:"",onSubmit:n[9]||(n[9]=oe(()=>{},["prevent"]))},[a("div",he,[a("label",be,o(e.$t("full name")),1),c(a("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=s=>t(l).name=s),placeholder:e.$t("write your name..")},null,8,ge),[[v,t(l).name]]),t(T)?(i(),r("span",ke,o(t(T)),1)):u("",!0)]),a("div",$e,[a("label",Me,o(e.$t("email")),1),c(a("input",{type:"email","onUpdate:modelValue":n[1]||(n[1]=s=>t(l).email=s),placeholder:"example@mail.com.."},null,512),[[v,t(l).email]]),t(P)?(i(),r("span",we,o(t(P)),1)):u("",!0)]),a("div",xe,[a("label",Ee,o(e.$t("phone number")),1),c(a("input",{type:"text","onUpdate:modelValue":n[2]||(n[2]=s=>t(l).phone=s),placeholder:"05xxxxxxxx....."},null,512),[[v,t(l).phone]]),t(N)?(i(),r("span",Oe,o(t(N)),1)):u("",!0)]),a("div",Ne,[a("label",Te,o(e.$t("What is your car’s model year?")),1),c(a("input",{type:"number","onUpdate:modelValue":n[3]||(n[3]=s=>t(l).model_year=s),min:"1900",max:"2100",step:"1"},null,512),[[v,t(l).model_year]]),t(q)?(i(),r("span",Ue,o(t(q)),1)):u("",!0)]),a("div",Ve,[a("label",Se,o(e.$t("What is your car’s Brand?")),1),c(a("select",{name:"",id:"","onUpdate:modelValue":n[4]||(n[4]=s=>t(l).brand_id=s)},[a("option",Ae,o(e.$t("Select Brand...")),1),(i(!0),r(f,null,h(t(R),s=>(i(),r("option",{value:s.id},o(s.name),9,Ce))),256))],512),[[w,t(l).brand_id]]),t(V)?(i(),r("span",Pe,o(t(V)),1)):u("",!0)]),a("div",Be,[a("label",De,o(e.$t("Which car model are you booking for?")),1),c(a("select",{name:"",id:"","onUpdate:modelValue":n[5]||(n[5]=s=>t(l).model_id=s)},[a("option",qe,o(e.$t("Select Model...")),1),t(l).brand_id?(i(!0),r(f,{key:0},h(t(R)[t(l).brand_id-1].models,(s,M)=>(i(),r("option",{value:s.id},o(s.name),9,Le))),256)):u("",!0)],512),[[w,t(l).model_id]]),t(A)?(i(),r("span",Qe,o(t(A)),1)):u("",!0)]),a("div",Ie,[a("label",Re,o(e.$t("Choose a city and branch for your service")),1),a("div",Ye,[a("div",ze,[c(a("select",{name:"",id:"",class:"w-100","onUpdate:modelValue":n[6]||(n[6]=s=>t(l).city_id=s)},[a("option",Fe,o(e.$t("Select city...")),1),(i(!0),r(f,null,h(t($),s=>(i(),r("option",{value:s.id},o(s.name),9,We))),256))],512),[[w,t(l).city_id]]),t(S)?(i(),r("span",He,o(t(S)),1)):u("",!0)]),a("div",Ke,[c(a("select",{name:"",id:"",class:"w-100","onUpdate:modelValue":n[7]||(n[7]=s=>t(l).branch_id=s)},[a("option",Je,o(e.$t("Select branch...")),1),t(l).city_id?(i(!0),r(f,{key:0},h(t($)[t(l).city_id-1].branches,s=>(i(),r("option",{value:s.id},o(s.name),9,Xe))),256)):u("",!0)],512),[[w,t(l).branch_id]]),t(U)?(i(),r("span",Ge,o(t(U)),1)):u("",!0)])])]),a("div",Ze,[a("label",je,o(e.$t("Please add any extra information about your appointment request")),1),c(a("textarea",{style:{resize:"none"},"onUpdate:modelValue":n[8]||(n[8]=s=>t(l).description=s),rows:"",cols:"",placeholder:e.$t("write your message here")},null,8,et),[[v,t(l).description]]),t(C)?(i(),r("span",tt,o(t(C)),1)):u("",!0)])],32)]),a("div",at,[st,a("div",lt,[a("h3",null,o(e.$t("time")),1),a("div",ot,[t(Q)?(i(),r("div",nt)):u("",!0)]),a("div",rt,[(i(!0),r(f,null,h(t(O),(s,M)=>(i(),r("span",{onClick:bt=>(re(g)?g.value=M+1:g=M+1,s.available?t(l).time=s.value:null),class:ie({disabled:s.available==!1,choose:t(g)==M+1})},o(s.time),11,it))),256))])]),t(B)?(i(),r("span",dt,o(t(B)),1)):u("",!0),a("div",ut,[c(a("input",{id:"checkTerms",type:"checkbox",value:"1","onUpdate:modelValue":n[10]||(n[10]=s=>t(l).terms_and_privacy=s)},null,512),[[ne,t(l).terms_and_privacy]]),a("label",ct,[z(o(e.$t("I have read and unconditionally agree to the"))+" ",1),a("span",mt,o(e.$t("Term And Conditions")),1),z(" "+o(e.$t("and"))+" ",1),a("span",pt,o(e.$t("Privacy Policy")),1)])]),t(D)?(i(),r("span",_t,o(t(D)),1)):u("",!0),a("button",{disabled:t(p),onClick:n[11]||(n[11]=s=>G()),class:"w-100 d-flex align-items-center justify-content-center gap-4"},[a("span",null,o(e.$t("submit")),1),t(p)?(i(),r("div",vt)):u("",!0)],8,yt)])])]),F(m),F(y)])}}};export{Et as default};
